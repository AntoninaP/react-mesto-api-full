{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","images/ok.svg","images/error.svg","components/InfoTooltip.js","components/Auth.js","utils/api.js","components/ProtectedRoute.js","components/App.js","index.js"],"names":["Header","props","onClick","title","email","history","useHistory","currentPath","push","onLogOut","className","src","logo","alt","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","handleCardClick","type","handleCardDelete","name","handleCardLike","length","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","onCardClick","onCardLike","onCardDelete","Footer","Date","getFullYear","ImagePopup","onClose","PopupWithForm","isEditProfilePopupOpen","isAddPlacePopupOpen","isEditAvatarPopupOpen","isInfoTooltipOpen","closeAllPopups","noValidate","onSubmit","children","EditProfilePopup","useState","setName","description","setDescription","useEffect","isOpen","e","preventDefault","onUpdateUser","id","value","onChange","target","placeholder","required","minLength","maxLength","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","pattern","AddPlacePopup","setTitle","setLink","Login","handleChange","onEnter","data","password","console","log","onAutorization","Register","setData","onRegister","to","InfoTooltip","isRegisterSuccessful","ok","err","BASE_URL","checkResponse","res","json","newApi","options","this","baseUrl","headers","Promise","reject","status","fetch","then","_checkResponse","method","body","JSON","stringify","cardId","_putLike","_deleteLike","authorization","ProtectedRoute","Component","component","loggedIn","App","setIsEditAvatarPopupOpen","setIsEditProfilePopupOpen","setIsAddPlacePopupOpen","selectedCard","setCard","setCurrentUser","setCards","setLoggedIn","pathname","useLocation","setInfoToolTipOpen","registerStatus","setRegisterStatus","handleRegister","tokenCheck","getInitialCards","catch","getProfileInfo","window","addEventListener","evt","key","localStorage","getItem","jwt","token","Provider","removeItem","exact","path","changeLikeCardStatus","newCard","state","c","deleteCard","filter","Auth","Error","setItem","statusCode","user","editProfileInfo","picture","addNewCard","addNewAvatar","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2ce1147f.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import React from \"react\";\nimport logo from '../images/logo.svg';\nimport {useHistory} from \"react-router-dom\";\n\n\nfunction Header(props) {\n  const history = useHistory();\n\n  let onClick;\n  let title;\n  let email\n\n  switch (props.currentPath) {\n    //Вход\n    case '/signin':\n      onClick = function () {\n        history.push('/signup')\n      }\n      title = 'Регистрация'\n      break;\n      //Регистрация\n    case '/signup':\n      onClick = function () {\n        history.push('/signin')\n      }\n      title = 'Войти'\n      break;\n    default:\n      onClick = function () {\n        history.push('/signin')\n        props.onLogOut()\n      }\n      title = 'Выйти'\n      email = props.email\n  }\n\n  return (\n    <header className=\"header root__header\">\n      <img src={logo} alt=\"логотип сайта\" className=\"header__logo\"/>\n      <div className=\"header__group\">\n        <p className=\"header__email\">{email}</p>\n        <button className=\"header__button\" onClick={onClick}>{title}</button>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n\n","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n","import React from \"react\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n\n  function handleClick() {\n    props.handleCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.handleCardLike(props.card);\n  }\n\n  function handleCardDelete() {\n    props.handleCardDelete(props.card);\n  }\n\n  const currentUser = React.useContext(CurrentUserContext);\n  // Определяем, являемся ли мы владельцем текущей карточки\n  const isOwn = props.card.owner._id === currentUser._id;\n\n// Создаём переменную, которую после зададим в `className` для кнопки удаления\n  const cardDeleteButtonClassName = (\n    `elements__button-delite ${isOwn ? 'elements__button-delite' : 'elements__button-delite_hidden'}`\n  );\n\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n\n// Создаём переменную, которую после зададим в `className` для кнопки лайка\n  const cardLikeButtonClassName = (\n    `elements__button-like ${isLiked ? 'elements__button-like_black' : 'elements__button-like'}`\n  );\n\n  return (\n    (\n      <div className=\"elements__item\">\n        <img src={props.card.link} className=\"elements__image\" alt=\"место в России\" onClick={handleClick}/>\n        <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleCardDelete}>\n        </button>\n        <div className=\"elements__name\">\n          <h2 className=\"elements__title\">{props.card.name}</h2>\n          <div className=\"elements__group\">\n            <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}>\n            </button>\n            <p className=\"elements__counter\">{props.card.likes.length}</p>\n          </div>\n        </div>\n      </div>\n    )\n  )\n}\n\nexport default Card\n","import React from \"react\";\nimport Card from \"./Card\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nfunction Main(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar-container\">\n          <img src={currentUser.avatar} alt=\"аватар пользователя\" className=\"profile__avatar\"/>\n          <button className=\"profile__avatar-edit\"\n                  onClick={props.onEditAvatar}>\n          </button>\n        </div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <button type=\"button\" className=\"profile__edit-button\"\n                  onClick={props.onEditProfile}>\n          </button>\n          <p className=\"profile__profession\">{currentUser.about}</p>\n        </div>\n        <button type=\"button\" className=\"profile__add-button\"\n                onClick={props.onAddPlace}>\n        </button>\n      </section>\n      <section className=\"elements root__elements\">\n        {\n          props.cards.map((card, i) => (\n            <Card key={card._id} handleCardClick={props.onCardClick}\n                  handleCardLike={props.onCardLike} handleCardDelete={props.onCardDelete}\n                  card={card}\n            />\n          ))\n        }\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from \"react\";\n\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__text\">&#169; {new Date().getFullYear()} Антонина Полякова</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\n\nfunction ImagePopup(props) {\n  return (\n    <div className={`popup popup_dark popup-preview ${props.card ? 'popup_opened' : ''}`}>\n      <div className=\"popup__container-preview\">\n        <button type=\"button\" className=\"popup__close-button\"\n                onClick={props.onClose}>\n        </button>\n        <img src={props.card ? props.card.link : ''} alt=\"изображение достопримечательности в России\"\n             className=\"popup__image\"/>\n        <p className=\"popup__preview-title\">{props.card ? props.card.name : ''}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","import React from \"react\";\n\nfunction PopupWithForm(props) {\n\n  return (\n    <div className={`popup popup-${props.name} ${props.isEditProfilePopupOpen ||\n    props.isAddPlacePopupOpen || props.isEditAvatarPopupOpen || props.isInfoTooltipOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__container\">\n        <button type=\"button\" className=\"popup__close-button\"\n                onClick={props.closeAllPopups}>\n        </button>\n        <form name={`${props.name}`} className=\"popup__form\" noValidate onSubmit={props.onSubmit}>\n          <h2 className=\"popup__title\">{props.title}</h2>\n          {props.children}\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup(props) {\n\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeDescription(e) {\n    setDescription(e.target.value);\n  }\n\n// Подписка на контекст\n  const currentUser = React.useContext(CurrentUserContext);\n\n// После загрузки текущего пользователя из API\n// его данные будут использованы в управляемых компонентах.\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n\n    // Передаём значения управляемых компонентов во внешний обработчик\n    props.onUpdateUser({\n      name: name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm name=\"user\" title=\"Редактировать профиль\" isEditProfilePopupOpen={props.isOpen}\n                   closeAllPopups={props.onClose} onSubmit={handleSubmit}>\n      <label>\n        <input id=\"user-input\" type=\"text\" name=\"name\" value={name} onChange={handleChangeName}\n               className=\"popup__input popup__input-name\"\n               placeholder=\"Имя\" required minLength=\"2\" maxLength=\"40\"/>\n        <span className=\"popup__input-error user-input-error\">\n            </span>\n      </label>\n      <label>\n        <input id=\"job-input\" type=\"text\" name=\"profession\" value={description} onChange={handleChangeDescription}\n               className=\"popup__input popup__input-job\"\n               placeholder=\"О себе\" required minLength=\"2\" maxLength=\"200\"/>\n        <span className=\"popup__input-error job-input-error\">\n            </span>\n      </label>\n      <button type=\"submit\" className=\"popup__button\" onClick={props.onClose}>Сохранить</button>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup(props) {\n  const avatarRef = React.useRef('');\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value\n    });\n    avatarRef.current.value = '';\n  }\n\n  return (\n    <PopupWithForm name=\"avatar\" title=\"Обновить аватар?\" isEditAvatarPopupOpen={props.isOpen}\n                   closeAllPopups={props.onClose} onSubmit={handleSubmit}>\n      <label>\n        <input id=\"input\" type=\"url\" name=\"image\" ref={avatarRef}\n               className=\"popup__input popup__input_small popup__input-image\"\n               placeholder=\"Ссылка на картинку\" required pattern=\"https?://.+\"/>\n        <span className=\"popup__input-error input-error\">\n              </span>\n      </label>\n      <button type=\"submit\" className=\"popup__button popup__button_small popup__button-place\"\n              onClick={props.onClose}>Создать\n      </button>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n\n  const [title, setTitle] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  function handleChangeTitle(e) {\n    setTitle(e.target.value);\n  }\n\n  function handleChangeLink(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n\n    // Передаём значения управляемых компонентов во внешний обработчик\n    props.onAddPlace({\n      name: title,\n      link: link,\n    });\n\n    setTitle('');\n    setLink('');\n  }\n\n  return (\n    <PopupWithForm name=\"place\" title=\"Новое место\" isAddPlacePopupOpen={props.isOpen}\n                   closeAllPopups={props.onClose} onSubmit={handleSubmit}>\n      <label>\n        <input id=\"place-input\" type=\"text\" name=\"place-title\" value={title} onChange={handleChangeTitle}\n               className=\"popup__input popup__input_small popup__input-place-title\"\n               placeholder=\"Название\" required minLength=\"2\" maxLength=\"30\"/>\n        <span className=\"popup__input-error place-input-error\">\n        </span>\n      </label>\n      <label>\n        <input id=\"link-input\" type=\"url\" name=\"image\" value={link} onChange={handleChangeLink}\n               className=\"popup__input popup__input_small popup__input-image\"\n               placeholder=\"Ссылка на картинку\" required pattern=\"https?://.+\"/>\n        <span className=\"popup__input-error link-input-error\">\n        </span>\n      </label>\n      <button type=\"submit\" className=\"popup__button popup__button_small popup__button-place\"\n              onClick={props.onClose}>Создать\n      </button>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup\n","import React from \"react\";\n\nfunction Login(props) {\n  //\n  // const [data, setData] = React.useState({\n  //   email: '',\n  //   password: ''\n  // });\n\n  function handleChange(e) {\n    const {name, value} = e.target;\n    props.onEnter({\n      ...props.data,\n      [name]: value\n    })\n  }\n\n  function handleSubmit(e) {\n    let {email, password} = props.data;\n    e.preventDefault();\n    console.log(props.data);\n    props.onAutorization({email, password})\n  }\n\n  return(\n    <form className=\"popup__form popup__form_login\" onSubmit={handleSubmit}>\n      <h3 className=\"popup__title popup__title_login\">Вход</h3>\n      <label>\n        <input id=\"email\" type=\"email\" name=\"email\" value={props.data.email}\n               className=\"popup__input popup__input_login\"\n               placeholder=\"Email\" required minLength=\"2\" maxLength=\"40\"\n               pattern=\"([A-z0-9_.-]{1,})@([A-z0-9_.-]{1,}).([A-z]{2,8})\" onChange={handleChange}/>\n        <span className=\"popup__input-error\">\n            </span>\n      </label>\n      <label>\n        <input id=\"password\" type=\"text\" name=\"password\" value={props.data.password}\n               className=\"popup__input popup__input_login\"\n               placeholder=\"Пароль\" required minLength=\"2\" maxLength=\"10\" onChange={handleChange}/>\n        <span className=\"popup__input-error\">\n            </span>\n      </label>\n      <button type=\"submit\" className=\"popup__button popup__button_login\">Войти</button>\n      <p className=\"popup__subtitle\"> </p>\n    </form>\n  )\n}\n\nexport default Login\n","import React from \"react\";\nimport {Link} from \"react-router-dom\";\n\n\nfunction Register(props) {\n\nconst [data, setData] = React.useState({\n  email: '',\n  password: ''\n});\n\n  function handleSubmit(e) {\n    let {email, password} = data;\n    e.preventDefault();\n    setData({email: '', password: ''})\n    props.onRegister({email, password})\n  }\n\n  function handleChange(e) {\n    const {name, value} = e.target;\n    setData({\n      ...data,\n      [name]: value\n    })\n  }\n\n  return(\n  <form onSubmit={handleSubmit} className=\"popup__form popup__form_login\">\n    <h3 className=\"popup__title popup__title_login\">Регистрация</h3>\n    <label>\n      <input id=\"email\" type=\"email\" name=\"email\" value={data.email}\n             className=\"popup__input popup__input_login\"\n             placeholder=\"Email\" required minLength=\"2\" maxLength=\"40\"\n             onChange={handleChange}/>\n      <span className=\"popup__input-error\">\n            </span>\n    </label>\n    <label>\n      <input id=\"password\" type=\"password\" name=\"password\" value={data.password}\n             className=\"popup__input popup__input_login\"\n             placeholder=\"Пароль\" required minLength=\"2\" maxLength=\"10\" onChange={handleChange}/>\n      <span className=\"popup__input-error\">\n            </span>\n    </label>\n    <button type=\"submit\" className=\"popup__button popup__button_login\">Зарегистрироваться</button>\n    <p className=\"popup__subtitle\">Уже зарегистрированы? <Link to='/sign-in' className=\"link\">Войти</Link></p>\n  </form>\n)\n}\n\nexport default Register\n","export default __webpack_public_path__ + \"static/media/ok.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/error.df8eddf6.svg\";","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport ok from \"../images/ok.svg\";\nimport err from \"../images/error.svg\";\n\n\nfunction InfoTooltip(props) {\n\n  return(\n    <PopupWithForm name=\"registration_ok\" closeAllPopups={props.onClose} isInfoTooltipOpen={props.isOpen}>\n      <img src={props.isRegisterSuccessful ? ok : err} alt=\"значок статуса регистрации\" className=\"popup__reg-ico\"/>\n      <h3 className=\"popup__title popup__title_reg\">\n        {props.isRegisterSuccessful ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так!\\n' +\n          'Попробуйте ещё раз.'}</h3>\n    </PopupWithForm>\n  )\n}\n\nexport default InfoTooltip\n\n","export const BASE_URL = 'https://auth.nomoreparties.co';\n\nexport const registration = ({email, password}) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {'Accept': 'application/json',\n              \"Content-Type\": \"application/json\"} ,\n    body: JSON.stringify({email, password})\n  })\n    .then(checkResponse)\n}\n\nexport const authorization = ({email, password}) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {'Accept': 'application/json',\n              \"Content-Type\": \"application/json\"},\n    body: JSON.stringify({email, password})\n  })\n    .then(checkResponse)\n}\n\nexport const getContent = (token) => {\n  return fetch(BASE_URL + '/users/me', {\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": `Bearer ${token}`\n    }\n  })\n    .then(checkResponse)\n}\n\nexport const checkResponse = (res) => {\n  if (res.ok) {\n    return res.json();\n  }\n}\n","class Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n    this.headers = options.headers;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка ${res.status}`);\n  }\n\n  // запрос данных пользователя с сервера\n  getProfileInfo() {\n    return fetch(this.baseUrl + 'users/me', {\n      headers: this.headers\n    })\n      .then(this._checkResponse)\n  }\n\n  // редактирование данных пользователя\n  editProfileInfo(name, about) {\n    return fetch(this.baseUrl + 'users/me', {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        name: name,\n        about: about\n      })\n    })\n      .then(this._checkResponse)\n  }\n\n  // загрузка массива карточек с сервера\n  getInitialCards() {\n    return fetch(this.baseUrl + 'cards', {\n      headers: this.headers\n    })\n      .then(this._checkResponse)\n  }\n\n// добавление новой карточки\n  addNewCard(name, link) {\n    return fetch(this.baseUrl + 'cards', {\n      method: 'POST',\n      headers: this.headers,\n      body: JSON.stringify({\n        name: name,\n        link: link\n      })\n    })\n      .then(this._checkResponse)\n  }\n\n// редактирование аватара\n  addNewAvatar(avatar) {\n    return fetch(this.baseUrl + 'users/me/avatar', {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: avatar,\n      })\n    })\n      .then(this._checkResponse)\n  }\n\n  // удаление карточки\n  deleteCard(cardId) {\n    return fetch(this.baseUrl + `cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this.headers,\n    })\n      .then(this._checkResponse)\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    if (isLiked) {\n      return this._putLike(cardId)\n    } else {\n      return this._deleteLike(cardId)\n    }\n  }\n\n  //поставить лайк\n  _putLike(cardId) {\n    return fetch(this.baseUrl + `cards/likes/${cardId}`, {\n      method: 'PUT',\n      headers: this.headers,\n    })\n      .then(this._checkResponse)\n  }\n\n  //удалить лайк\n  _deleteLike(cardId) {\n    return fetch(this.baseUrl + `cards/likes/${cardId}`, {\n      method: 'DELETE',\n      headers: this.headers,\n    })\n      .then(this._checkResponse)\n  }\n}\n\n\nconst newApi = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-20/',\n  headers: {\n    authorization: 'b9b88552-735f-4768-bf07-4ff3fcde19d4',\n    'Content-Type': 'application/json'\n  }\n})\n\nexport default newApi\n","import React from 'react';\nimport {Route, Redirect} from 'react-router-dom';\n\n\n\nfunction ProtectedRoute({component: Component, ...props}) {\n  return <Route>\n    function () {\n    props.loggedIn ? <Component {...props}/> : <Redirect to='/login'/>\n  }\n  </Route>}\n\nexport default ProtectedRoute;\n","import React from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport * as Auth from \"./Auth\";\nimport newApi from \"../utils/api\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\nimport {Route, Switch, Redirect, useLocation, useHistory} from \"react-router-dom\";\nimport ProtectedRoute from \"./ProtectedRoute\";\n\nfunction App() {\n\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [selectedCard, setCard] = React.useState(null);\n  const [currentUser, setCurrentUser] = React.useState({name: '', about: '', avatar: ''});\n  const [cards, setCards] = React.useState([]);\n\n  //константы для регистрации, авторизации\n  const [data, setData] = React.useState({\n    email: '',\n    password: ''\n  });\n\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  //переход по ссылкам в шапке профиля регистрация-войти\n  const {pathname} = useLocation();\n  const history = useHistory();\n  const [isInfoTooltipOpen, setInfoToolTipOpen] = React.useState(false);\n  const [registerStatus, setRegisterStatus] = React.useState(false);\n\n  React.useEffect(() => {\n    if (loggedIn) {\n      history.push('/');\n    }\n  }, [history, loggedIn])\n\n  React.useEffect(() => {\n    tokenCheck()\n  }, [])\n\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    newApi.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n      })\n      .catch((err) => {\n        console.log('error', err)\n      })\n  }\n\n  function handleCardDelete(card) {\n    newApi.deleteCard(card._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n      })\n      .catch((err) => {\n        console.log('error', err)\n      })\n  }\n\n  React.useEffect(() => {\n    newApi.getInitialCards()\n      .then((data) => {\n        setCards(data)\n      })\n      .catch((err) => {\n        console.log('error', err)\n      })\n  }, [])\n\n  React.useEffect(() => {\n    newApi.getProfileInfo()\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => {\n        console.log('error', err)\n      })\n  }, []);\n\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setCard(card);\n  }\n\n  function handleUpdateUser(user) {\n    newApi.editProfileInfo(user.name, user.about)\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => {\n        console.log('error', err)\n      })\n  }\n\n  function handleUpdateAvatar(user) {\n    newApi.addNewAvatar(user.avatar)\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => {\n        console.log('error', err)\n      })\n  }\n\n  function handleAddPlaceSubmit(picture) {\n    newApi.addNewCard(picture.name, picture.link)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n      })\n      .catch((err) => {\n        console.log('error', err)\n      })\n  }\n\n  function closeAllPopups() {\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setCard(null)\n    setInfoToolTipOpen(false);\n  }\n\n  React.useEffect(() => {\n    // закрытие попапа кликом на esc\n    function handleEscClose(evt) {\n      if (evt.key === 'Escape') {\n        closeAllPopups();\n      }\n    }\n\n    window.addEventListener('keydown', handleEscClose);\n  }, [])\n\n  //методы для регистрации, авторизации\n  function handleRegistration({email, password}) {\n    console.log({email, password})\n    Auth.registration({email, password})\n      .then((res) => {\n        console.log(res)\n        if (!res || res.statusCode === 400) {\n          setRegisterStatus(false)\n          handleRegister()\n          setData({email: '', password: ''}) //почему не обнуляются поля?\n          return\n        }\n\n        setRegisterStatus(true)\n        handleRegister();\n        history.push('/signin')\n        return res\n      })\n      .catch((err) => {\n        console.log('error', err)\n      })\n  }\n\n  function handleRegister() {\n    setInfoToolTipOpen(true);\n  }\n\n  function handleAuthorization({email, password}) {\n    Auth.authorization({email, password})\n      .then((data) => {\n        console.log(data)\n        if (!data) {throw new Error('Неверный логин или пароль')}\n\n        if (data.token) {\n          console.log(data.token)\n          localStorage.setItem('jwt', data.token);\n          setLoggedIn(true);\n          history.push('/');\n          return data;\n        }\n      })\n      .catch((err) => {\n        console.log('error', err)\n      })\n  }\n\n  const tokenCheck = () => {\n    if (localStorage.getItem('jwt')) {\n      let jwt = localStorage.getItem('jwt');\n      Auth.getContent(jwt)\n        .then(({email, password}) => {\n          if (email) {\n            setLoggedIn(true);\n            // setData({email, password})\n          }\n        })\n        .catch((err) => {\n          console.log('error', err)\n        })\n    }\n  }\n\n  function handleLogOut() {\n    localStorage.removeItem('jwt');\n    history.push('/signin');\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"root\">\n        <div className=\"page\">\n          <Header currentPath={pathname}\n                  onLogOut={handleLogOut}\n                  email={data.email}\n                  />\n          <Switch>\n            <ProtectedRoute\n              exact path=\"/\"\n              loggedIn={loggedIn}\n              component={Main}\n              onEditProfile={handleEditProfileClick}\n              onEditAvatar={handleEditAvatarClick}\n              onAddPlace={handleAddPlaceClick}\n              onCardClick={handleCardClick}\n              cards={cards}\n              onCardLike={handleCardLike}\n              onCardDelete={handleCardDelete}\n            />\n            <Route path=\"/signin\">\n              <Login\n                data={data}\n                onEnter={setData}\n                onAutorization={handleAuthorization}/>\n            </Route>\n            <Route path=\"/signup\">\n              <Register onRegister={handleRegistration}/>\n            </Route>\n            <Route>\n              {loggedIn ? (<Redirect to=\"/\"/>) : (<Redirect to=\"/signin\"/>)}\n            </Route>\n          </Switch>\n          {loggedIn && <Footer/>}\n          <EditProfilePopup isOpen={isEditProfilePopupOpen}\n                            onClose={closeAllPopups}\n                            onUpdateUser={handleUpdateUser}/>\n          <AddPlacePopup isOpen={isAddPlacePopupOpen}\n                         onClose={closeAllPopups}\n                         onAddPlace={handleAddPlaceSubmit}/>\n\n          <ImagePopup onClose={closeAllPopups} card={selectedCard}/>\n\n          <PopupWithForm name=\"popup-delete-card\" title=\"Вы уверены?\">\n            <button type=\"submit\" className=\"popup__button popup__button_small popup__button-place\">Да</button>\n          </PopupWithForm>\n\n          <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups}\n                           onUpdateAvatar={handleUpdateAvatar}/>\n          <InfoTooltip isOpen={isInfoTooltipOpen}\n                       isRegisterSuccessful={registerStatus}\n                       onClose={closeAllPopups}/>\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App/>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}