{"code":"(this[\"webpackJsonpmesto-react\"]=this[\"webpackJsonpmesto-react\"]||[]).push([[0],{30:function(e,t,n){},37:function(e,t,n){\"use strict\";n.r(t);var a=n(1),s=n.n(a),o=n(20),c=n.n(o),i=n(9),r=(n(30),n(24)),l=n(3),p=n.p+\"static/media/logo.03b78ada.svg\",u=n(2),d=n(0);var j=function(e){var t,n,a,s=Object(u.g)();switch(e.currentPath){case\"/signin\":t=function(){s.push(\"/signup\")},n=\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044f\";break;case\"/signup\":t=function(){s.push(\"/signin\")},n=\"\\u0412\\u043e\\u0439\\u0442\\u0438\";break;default:t=function(){s.push(\"/signin\"),e.onLogOut()},n=\"\\u0412\\u044b\\u0439\\u0442\\u0438\",a=e.email}return Object(d.jsxs)(\"header\",{className:\"header root__header\",children:[Object(d.jsx)(\"img\",{src:p,alt:\"\\u043b\\u043e\\u0433\\u043e\\u0442\\u0438\\u043f \\u0441\\u0430\\u0439\\u0442\\u0430\",className:\"header__logo\"}),Object(d.jsxs)(\"div\",{className:\"header__group\",children:[Object(d.jsx)(\"p\",{className:\"header__email\",children:a}),Object(d.jsx)(\"button\",{className:\"header__button\",onClick:t,children:n})]})]})},h=s.a.createContext();var b=function(e){var t=s.a.useContext(h),n=e.card.owner._id===t._id,a=\"elements__button-delite \".concat(n?\"elements__button-delite\":\"elements__button-delite_hidden\"),o=e.card.likes.some((function(e){return e._id===t._id})),c=\"elements__button-like \".concat(o?\"elements__button-like_black\":\"elements__button-like\");return Object(d.jsxs)(\"div\",{className:\"elements__item\",children:[Object(d.jsx)(\"img\",{src:e.card.link,className:\"elements__image\",alt:\"\\u043c\\u0435\\u0441\\u0442\\u043e \\u0432 \\u0420\\u043e\\u0441\\u0441\\u0438\\u0438\",onClick:function(){e.handleCardClick(e.card)}}),Object(d.jsx)(\"button\",{type:\"button\",className:a,onClick:function(){e.handleCardDelete(e.card)}}),Object(d.jsxs)(\"div\",{className:\"elements__name\",children:[Object(d.jsx)(\"h2\",{className:\"elements__title\",children:e.card.name}),Object(d.jsxs)(\"div\",{className:\"elements__group\",children:[Object(d.jsx)(\"button\",{type:\"button\",className:c,onClick:function(){e.handleCardLike(e.card)}}),Object(d.jsx)(\"p\",{className:\"elements__counter\",children:e.card.likes.length})]})]})]})};var m=function(e){var t=s.a.useContext(h);return Object(d.jsxs)(\"main\",{className:\"content\",children:[Object(d.jsxs)(\"section\",{className:\"profile\",children:[Object(d.jsxs)(\"div\",{className:\"profile__avatar-container\",children:[Object(d.jsx)(\"img\",{src:t.avatar,alt:\"\\u0430\\u0432\\u0430\\u0442\\u0430\\u0440 \\u043f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\\u043b\\u044f\",className:\"profile__avatar\"}),Object(d.jsx)(\"button\",{className:\"profile__avatar-edit\",onClick:e.onEditAvatar})]}),Object(d.jsxs)(\"div\",{className:\"profile__info\",children:[Object(d.jsx)(\"h1\",{className:\"profile__name\",children:t.name}),Object(d.jsx)(\"button\",{type:\"button\",className:\"profile__edit-button\",onClick:e.onEditProfile}),Object(d.jsx)(\"p\",{className:\"profile__profession\",children:t.about})]}),Object(d.jsx)(\"button\",{type:\"button\",className:\"profile__add-button\",onClick:e.onAddPlace})]}),Object(d.jsx)(\"section\",{className:\"elements root__elements\",children:e.cards.map((function(t,n){return Object(d.jsx)(b,{handleCardClick:e.onCardClick,handleCardLike:e.onCardLike,handleCardDelete:e.onCardDelete,card:t},t._id)}))})]})};var _=function(){return Object(d.jsx)(\"footer\",{className:\"footer\",children:Object(d.jsxs)(\"p\",{className:\"footer__text\",children:[\"\\xa9 \",(new Date).getFullYear(),\" \\u0410\\u043d\\u0442\\u043e\\u043d\\u0438\\u043d\\u0430 \\u041f\\u043e\\u043b\\u044f\\u043a\\u043e\\u0432\\u0430\"]})})};var f=function(e){return Object(d.jsx)(\"div\",{className:\"popup popup_dark popup-preview \".concat(e.card?\"popup_opened\":\"\"),children:Object(d.jsxs)(\"div\",{className:\"popup__container-preview\",children:[Object(d.jsx)(\"button\",{type:\"button\",className:\"popup__close-button\",onClick:e.onClose}),Object(d.jsx)(\"img\",{src:e.card?e.card.link:\"\",alt:\"\\u0438\\u0437\\u043e\\u0431\\u0440\\u0430\\u0436\\u0435\\u043d\\u0438\\u0435 \\u0434\\u043e\\u0441\\u0442\\u043e\\u043f\\u0440\\u0438\\u043c\\u0435\\u0447\\u0430\\u0442\\u0435\\u043b\\u044c\\u043d\\u043e\\u0441\\u0442\\u0438 \\u0432 \\u0420\\u043e\\u0441\\u0441\\u0438\\u0438\",className:\"popup__image\"}),Object(d.jsx)(\"p\",{className:\"popup__preview-title\",children:e.card?e.card.name:\"\"})]})})};var O=function(e){return Object(d.jsx)(\"div\",{className:\"popup popup-\".concat(e.name,\" \").concat(e.isEditProfilePopupOpen||e.isAddPlacePopupOpen||e.isEditAvatarPopupOpen||e.isInfoTooltipOpen?\"popup_opened\":\"\"),children:Object(d.jsxs)(\"div\",{className:\"popup__container\",children:[Object(d.jsx)(\"button\",{type:\"button\",className:\"popup__close-button\",onClick:e.closeAllPopups}),Object(d.jsxs)(\"form\",{name:\"\".concat(e.name),className:\"popup__form\",noValidate:!0,onSubmit:e.onSubmit,children:[Object(d.jsx)(\"h2\",{className:\"popup__title\",children:e.title}),e.children]})]})})};var x=function(e){var t=s.a.useState(\"\"),n=Object(l.a)(t,2),a=n[0],o=n[1],c=s.a.useState(\"\"),i=Object(l.a)(c,2),r=i[0],p=i[1],u=s.a.useContext(h);return s.a.useEffect((function(){o(u.name),p(u.about)}),[u]),Object(d.jsxs)(O,{name:\"user\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043a\\u0442\\u0438\\u0440\\u043e\\u0432\\u0430\\u0442\\u044c \\u043f\\u0440\\u043e\\u0444\\u0438\\u043b\\u044c\",isEditProfilePopupOpen:e.isOpen,closeAllPopups:e.onClose,onSubmit:function(t){t.preventDefault(),e.onUpdateUser({name:a,about:r})},children:[Object(d.jsxs)(\"label\",{children:[Object(d.jsx)(\"input\",{id:\"user-input\",type:\"text\",name:\"name\",value:a,onChange:function(e){o(e.target.value)},className:\"popup__input popup__input-name\",placeholder:\"\\u0418\\u043c\\u044f\",required:!0,minLength:\"2\",maxLength:\"40\"}),Object(d.jsx)(\"span\",{className:\"popup__input-error user-input-error\"})]}),Object(d.jsxs)(\"label\",{children:[Object(d.jsx)(\"input\",{id:\"job-input\",type:\"text\",name:\"profession\",value:r,onChange:function(e){p(e.target.value)},className:\"popup__input popup__input-job\",placeholder:\"\\u041e \\u0441\\u0435\\u0431\\u0435\",required:!0,minLength:\"2\",maxLength:\"200\"}),Object(d.jsx)(\"span\",{className:\"popup__input-error job-input-error\"})]}),Object(d.jsx)(\"button\",{type:\"submit\",className:\"popup__button\",onClick:e.onClose,children:\"\\u0421\\u043e\\u0445\\u0440\\u0430\\u043d\\u0438\\u0442\\u044c\"})]})};var g=function(e){var t=s.a.useRef(\"\");return Object(d.jsxs)(O,{name:\"avatar\",title:\"\\u041e\\u0431\\u043d\\u043e\\u0432\\u0438\\u0442\\u044c \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440?\",isEditAvatarPopupOpen:e.isOpen,closeAllPopups:e.onClose,onSubmit:function(n){n.preventDefault(),e.onUpdateAvatar({avatar:t.current.value}),t.current.value=\"\"},children:[Object(d.jsxs)(\"label\",{children:[Object(d.jsx)(\"input\",{id:\"input\",type:\"url\",name:\"image\",ref:t,className:\"popup__input popup__input_small popup__input-image\",placeholder:\"\\u0421\\u0441\\u044b\\u043b\\u043a\\u0430 \\u043d\\u0430 \\u043a\\u0430\\u0440\\u0442\\u0438\\u043d\\u043a\\u0443\",required:!0,pattern:\"https?://.+\"}),Object(d.jsx)(\"span\",{className:\"popup__input-error input-error\"})]}),Object(d.jsx)(\"button\",{type:\"submit\",className:\"popup__button popup__button_small popup__button-place\",onClick:e.onClose,children:\"\\u0421\\u043e\\u0437\\u0434\\u0430\\u0442\\u044c\"})]})};var v=function(e){var t=s.a.useState(\"\"),n=Object(l.a)(t,2),a=n[0],o=n[1],c=s.a.useState(\"\"),i=Object(l.a)(c,2),r=i[0],p=i[1];return Object(d.jsxs)(O,{name:\"place\",title:\"\\u041d\\u043e\\u0432\\u043e\\u0435 \\u043c\\u0435\\u0441\\u0442\\u043e\",isAddPlacePopupOpen:e.isOpen,closeAllPopups:e.onClose,onSubmit:function(t){t.preventDefault(),e.onAddPlace({name:a,link:r}),o(\"\"),p(\"\")},children:[Object(d.jsxs)(\"label\",{children:[Object(d.jsx)(\"input\",{id:\"place-input\",type:\"text\",name:\"place-title\",value:a,onChange:function(e){o(e.target.value)},className:\"popup__input popup__input_small popup__input-place-title\",placeholder:\"\\u041d\\u0430\\u0437\\u0432\\u0430\\u043d\\u0438\\u0435\",required:!0,minLength:\"2\",maxLength:\"30\"}),Object(d.jsx)(\"span\",{className:\"popup__input-error place-input-error\"})]}),Object(d.jsxs)(\"label\",{children:[Object(d.jsx)(\"input\",{id:\"link-input\",type:\"url\",name:\"image\",value:r,onChange:function(e){p(e.target.value)},className:\"popup__input popup__input_small popup__input-image\",placeholder:\"\\u0421\\u0441\\u044b\\u043b\\u043a\\u0430 \\u043d\\u0430 \\u043a\\u0430\\u0440\\u0442\\u0438\\u043d\\u043a\\u0443\",required:!0,pattern:\"https?://.+\"}),Object(d.jsx)(\"span\",{className:\"popup__input-error link-input-error\"})]}),Object(d.jsx)(\"button\",{type:\"submit\",className:\"popup__button popup__button_small popup__button-place\",onClick:e.onClose,children:\"\\u0421\\u043e\\u0437\\u0434\\u0430\\u0442\\u044c\"})]})},N=n(11),k=n(8);var C=function(e){function t(t){var n=t.target,a=n.name,s=n.value;e.onEnter(Object(k.a)(Object(k.a)({},e.data),{},Object(N.a)({},a,s)))}return Object(d.jsxs)(\"form\",{className:\"popup__form popup__form_login\",onSubmit:function(t){var n=e.data,a=n.email,s=n.password;t.preventDefault(),console.log(e.data),e.onAutorization({email:a,password:s})},children:[Object(d.jsx)(\"h3\",{className:\"popup__title popup__title_login\",children:\"\\u0412\\u0445\\u043e\\u0434\"}),Object(d.jsxs)(\"label\",{children:[Object(d.jsx)(\"input\",{id:\"email\",type:\"email\",name:\"email\",value:e.data.email,className:\"popup__input popup__input_login\",placeholder:\"Email\",required:!0,minLength:\"2\",maxLength:\"40\",pattern:\"([A-z0-9_.-]{1,})@([A-z0-9_.-]{1,}).([A-z]{2,8})\",onChange:t}),Object(d.jsx)(\"span\",{className:\"popup__input-error\"})]}),Object(d.jsxs)(\"label\",{children:[Object(d.jsx)(\"input\",{id:\"password\",type:\"text\",name:\"password\",value:e.data.password,className:\"popup__input popup__input_login\",placeholder:\"\\u041f\\u0430\\u0440\\u043e\\u043b\\u044c\",required:!0,minLength:\"2\",maxLength:\"10\",onChange:t}),Object(d.jsx)(\"span\",{className:\"popup__input-error\"})]}),Object(d.jsx)(\"button\",{type:\"submit\",className:\"popup__button popup__button_login\",children:\"\\u0412\\u043e\\u0439\\u0442\\u0438\"}),Object(d.jsx)(\"p\",{className:\"popup__subtitle\",children:\" \"})]})};var y=function(e){var t=s.a.useState({email:\"\",password:\"\"}),n=Object(l.a)(t,2),a=n[0],o=n[1];function c(e){var t=e.target,n=t.name,s=t.value;o(Object(k.a)(Object(k.a)({},a),{},Object(N.a)({},n,s)))}return Object(d.jsxs)(\"form\",{onSubmit:function(t){var n=a.email,s=a.password;t.preventDefault(),o({email:\"\",password:\"\"}),e.onRegister({email:n,password:s})},className:\"popup__form popup__form_login\",children:[Object(d.jsx)(\"h3\",{className:\"popup__title popup__title_login\",children:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044f\"}),Object(d.jsxs)(\"label\",{children:[Object(d.jsx)(\"input\",{id:\"email\",type:\"email\",name:\"email\",value:a.email,className:\"popup__input popup__input_login\",placeholder:\"Email\",required:!0,minLength:\"2\",maxLength:\"40\",onChange:c}),Object(d.jsx)(\"span\",{className:\"popup__input-error\"})]}),Object(d.jsxs)(\"label\",{children:[Object(d.jsx)(\"input\",{id:\"password\",type:\"password\",name:\"password\",value:a.password,className:\"popup__input popup__input_login\",placeholder:\"\\u041f\\u0430\\u0440\\u043e\\u043b\\u044c\",required:!0,minLength:\"2\",maxLength:\"10\",onChange:c}),Object(d.jsx)(\"span\",{className:\"popup__input-error\"})]}),Object(d.jsx)(\"button\",{type:\"submit\",className:\"popup__button popup__button_login\",children:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043e\\u0432\\u0430\\u0442\\u044c\\u0441\\u044f\"}),Object(d.jsxs)(\"p\",{className:\"popup__subtitle\",children:[\"\\u0423\\u0436\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043e\\u0432\\u0430\\u043d\\u044b? \",Object(d.jsx)(i.b,{to:\"/sign-in\",className:\"link\",children:\"\\u0412\\u043e\\u0439\\u0442\\u0438\"})]})]})},w=n.p+\"static/media/ok.1b6082f8.svg\",S=n.p+\"static/media/error.df8eddf6.svg\";var P=function(e){return Object(d.jsxs)(O,{name:\"registration_ok\",closeAllPopups:e.onClose,isInfoTooltipOpen:e.isOpen,children:[Object(d.jsx)(\"img\",{src:e.isRegisterSuccessful?w:S,alt:\"\\u0437\\u043d\\u0430\\u0447\\u043e\\u043a \\u0441\\u0442\\u0430\\u0442\\u0443\\u0441\\u0430 \\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u0438\",className:\"popup__reg-ico\"}),Object(d.jsx)(\"h3\",{className:\"popup__title popup__title_reg\",children:e.isRegisterSuccessful?\"\\u0412\\u044b \\u0443\\u0441\\u043f\\u0435\\u0448\\u043d\\u043e \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043e\\u0432\\u0430\\u043b\\u0438\\u0441\\u044c!\":\"\\u0427\\u0442\\u043e-\\u0442\\u043e \\u043f\\u043e\\u0448\\u043b\\u043e \\u043d\\u0435 \\u0442\\u0430\\u043a!\\n\\u041f\\u043e\\u043f\\u0440\\u043e\\u0431\\u0443\\u0439\\u0442\\u0435 \\u0435\\u0449\\u0451 \\u0440\\u0430\\u0437.\"})]})},A=\"https://auth.nomoreparties.co\",E=function(e){if(e.ok)return e.json()},L=n(22),U=n(23),I=new(function(){function e(t){Object(L.a)(this,e),this.baseUrl=t.baseUrl,this.headers=t.headers}return Object(U.a)(e,[{key:\"_checkResponse\",value:function(e){return e.ok?e.json():Promise.reject(\"\\u041e\\u0448\\u0438\\u0431\\u043a\\u0430 \".concat(e.status))}},{key:\"getProfileInfo\",value:function(){return fetch(this.baseUrl+\"users/me\",{headers:this.headers}).then(this._checkResponse)}},{key:\"editProfileInfo\",value:function(e,t){return fetch(this.baseUrl+\"users/me\",{method:\"PATCH\",headers:this.headers,body:JSON.stringify({name:e,about:t})}).then(this._checkResponse)}},{key:\"getInitialCards\",value:function(){return fetch(this.baseUrl+\"cards\",{headers:this.headers}).then(this._checkResponse)}},{key:\"addNewCard\",value:function(e,t){return fetch(this.baseUrl+\"cards\",{method:\"POST\",headers:this.headers,body:JSON.stringify({name:e,link:t})}).then(this._checkResponse)}},{key:\"addNewAvatar\",value:function(e){return fetch(this.baseUrl+\"users/me/avatar\",{method:\"PATCH\",headers:this.headers,body:JSON.stringify({avatar:e})}).then(this._checkResponse)}},{key:\"deleteCard\",value:function(e){return fetch(this.baseUrl+\"cards/\".concat(e),{method:\"DELETE\",headers:this.headers}).then(this._checkResponse)}},{key:\"changeLikeCardStatus\",value:function(e,t){return t?this._putLike(e):this._deleteLike(e)}},{key:\"_putLike\",value:function(e){return fetch(this.baseUrl+\"cards/likes/\".concat(e),{method:\"PUT\",headers:this.headers}).then(this._checkResponse)}},{key:\"_deleteLike\",value:function(e){return fetch(this.baseUrl+\"cards/likes/\".concat(e),{method:\"DELETE\",headers:this.headers}).then(this._checkResponse)}}]),e}())({baseUrl:\"https://mesto.nomoreparties.co/v1/cohort-20/\",headers:{authorization:\"b9b88552-735f-4768-bf07-4ff3fcde19d4\",\"Content-Type\":\"application/json\"}}),R=n(25);var T=function(e){var t=e.component,n=Object(R.a)(e,[\"component\"]);return Object(d.jsxs)(u.b,{children:[\"function () \",n.loggedIn?Object(d.jsx)(t,Object(k.a)({},n)):Object(d.jsx)(u.a,{to:\"/login\"})]})};var D=function(){var e=s.a.useState(!1),t=Object(l.a)(e,2),n=t[0],a=t[1],o=s.a.useState(!1),c=Object(l.a)(o,2),i=c[0],p=c[1],b=s.a.useState(!1),N=Object(l.a)(b,2),k=N[0],w=N[1],S=s.a.useState(null),L=Object(l.a)(S,2),U=L[0],R=L[1],D=s.a.useState({name:\"\",about:\"\",avatar:\"\"}),q=Object(l.a)(D,2),z=q[0],J=q[1],B=s.a.useState([]),H=Object(l.a)(B,2),F=H[0],G=H[1],M=s.a.useState({email:\"\",password:\"\"}),V=Object(l.a)(M,2),Y=V[0],K=V[1],Q=s.a.useState(!1),W=Object(l.a)(Q,2),X=W[0],Z=W[1],$=Object(u.h)().pathname,ee=Object(u.g)(),te=s.a.useState(!1),ne=Object(l.a)(te,2),ae=ne[0],se=ne[1],oe=s.a.useState(!1),ce=Object(l.a)(oe,2),ie=ce[0],re=ce[1];function le(){w(!1),a(!1),p(!1),R(null),se(!1)}function pe(){se(!0)}s.a.useEffect((function(){X&&ee.push(\"/\")}),[ee,X]),s.a.useEffect((function(){ue()}),[]),s.a.useEffect((function(){I.getInitialCards().then((function(e){G(e)})).catch((function(e){console.log(\"error\",e)}))}),[]),s.a.useEffect((function(){I.getProfileInfo().then((function(e){J(e)})).catch((function(e){console.log(\"error\",e)}))}),[]),s.a.useEffect((function(){window.addEventListener(\"keydown\",(function(e){\"Escape\"===e.key&&le()}))}),[]);var ue=function(){if(localStorage.getItem(\"jwt\")){var e=localStorage.getItem(\"jwt\");(t=e,fetch(A+\"/users/me\",{method:\"GET\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(t)}}).then(E)).then((function(e){var t=e.email;e.password;t&&Z(!0)})).catch((function(e){console.log(\"error\",e)}))}var t};return Object(d.jsx)(h.Provider,{value:z,children:Object(d.jsx)(\"div\",{className:\"root\",children:Object(d.jsxs)(\"div\",{className:\"page\",children:[Object(d.jsx)(j,{currentPath:$,onLogOut:function(){localStorage.removeItem(\"jwt\"),ee.push(\"/signin\")},email:Y.email}),Object(d.jsxs)(u.d,{children:[Object(d.jsx)(T,{exact:!0,path:\"/\",loggedIn:X,component:m,onEditProfile:function(){p(!0)},onEditAvatar:function(){a(!0)},onAddPlace:function(){w(!0)},onCardClick:function(e){R(e)},cards:F,onCardLike:function(e){var t=e.likes.some((function(e){return e._id===z._id}));I.changeLikeCardStatus(e._id,!t).then((function(t){G((function(n){return n.map((function(n){return n._id===e._id?t:n}))}))})).catch((function(e){console.log(\"error\",e)}))},onCardDelete:function(e){I.deleteCard(e._id).then((function(){G((function(t){return t.filter((function(t){return t._id!==e._id}))}))})).catch((function(e){console.log(\"error\",e)}))}}),Object(d.jsx)(u.b,{path:\"/signin\",children:Object(d.jsx)(C,{data:Y,onEnter:K,onAutorization:function(e){(function(e){var t=e.email,n=e.password;return fetch(\"\".concat(A,\"/signin\"),{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},body:JSON.stringify({email:t,password:n})}).then(E)})({email:e.email,password:e.password}).then((function(e){if(console.log(e),!e)throw new Error(\"\\u041d\\u0435\\u0432\\u0435\\u0440\\u043d\\u044b\\u0439 \\u043b\\u043e\\u0433\\u0438\\u043d \\u0438\\u043b\\u0438 \\u043f\\u0430\\u0440\\u043e\\u043b\\u044c\");if(e.token)return console.log(e.token),localStorage.setItem(\"jwt\",e.token),Z(!0),ee.push(\"/\"),e})).catch((function(e){console.log(\"error\",e)}))}})}),Object(d.jsx)(u.b,{path:\"/signup\",children:Object(d.jsx)(y,{onRegister:function(e){var t=e.email,n=e.password;console.log({email:t,password:n}),function(e){var t=e.email,n=e.password;return fetch(\"\".concat(A,\"/signup\"),{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},body:JSON.stringify({email:t,password:n})}).then(E)}({email:t,password:n}).then((function(e){return console.log(e),e&&400!==e.statusCode?(re(!0),pe(),ee.push(\"/signin\"),e):(re(!1),pe(),void K({email:\"\",password:\"\"}))})).catch((function(e){console.log(\"error\",e)}))}})}),Object(d.jsx)(u.b,{children:X?Object(d.jsx)(u.a,{to:\"/\"}):Object(d.jsx)(u.a,{to:\"/signin\"})})]}),X&&Object(d.jsx)(_,{}),Object(d.jsx)(x,{isOpen:i,onClose:le,onUpdateUser:function(e){I.editProfileInfo(e.name,e.about).then((function(e){J(e)})).catch((function(e){console.log(\"error\",e)}))}}),Object(d.jsx)(v,{isOpen:k,onClose:le,onAddPlace:function(e){I.addNewCard(e.name,e.link).then((function(e){G([e].concat(Object(r.a)(F)))})).catch((function(e){console.log(\"error\",e)}))}}),Object(d.jsx)(f,{onClose:le,card:U}),Object(d.jsx)(O,{name:\"popup-delete-card\",title:\"\\u0412\\u044b \\u0443\\u0432\\u0435\\u0440\\u0435\\u043d\\u044b?\",children:Object(d.jsx)(\"button\",{type:\"submit\",className:\"popup__button popup__button_small popup__button-place\",children:\"\\u0414\\u0430\"})}),Object(d.jsx)(g,{isOpen:n,onClose:le,onUpdateAvatar:function(e){I.addNewAvatar(e.avatar).then((function(e){J(e)})).catch((function(e){console.log(\"error\",e)}))}}),Object(d.jsx)(P,{isOpen:ae,isRegisterSuccessful:ie,onClose:le})]})})})};c.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(i.a,{children:Object(d.jsx)(D,{})})}),document.getElementById(\"root\"))}},[[37,1,2]]]);","name":"static/js/main.2ce1147f.chunk.js","map":{"version":3,"sources":["static/js/main.2ce1147f.chunk.js"],"names":["this","push","30","module","exports","__webpack_require__","37","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","react_router_dom","toConsumableArray","slicedToArray","logo","p","react_router","jsx_runtime","components_Header","props","onClick","title","email","history","Object","currentPath","onLogOut","className","children","src","alt","CurrentUserContext","a","createContext","components_Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","concat","isLiked","likes","some","i","cardLikeButtonClassName","link","handleCardClick","type","handleCardDelete","name","handleCardLike","length","components_Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","onCardClick","onCardLike","onCardDelete","components_Footer","Date","getFullYear","components_ImagePopup","onClose","components_PopupWithForm","isEditProfilePopupOpen","isAddPlacePopupOpen","isEditAvatarPopupOpen","isInfoTooltipOpen","closeAllPopups","noValidate","onSubmit","components_EditProfilePopup","_React$useState","useState","_React$useState2","setName","_React$useState3","_React$useState4","description","setDescription","useEffect","isOpen","e","preventDefault","onUpdateUser","id","value","onChange","target","placeholder","required","minLength","maxLength","components_EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","pattern","components_AddPlacePopup","setTitle","setLink","defineProperty","objectSpread2","components_Login","handleChange","_e$target","onEnter","data","_props$data","password","console","log","onAutorization","components_Register","setData","onRegister","to","ok","error","components_InfoTooltip","isRegisterSuccessful","BASE_URL","checkResponse","res","json","classCallCheck","createClass","api","Api","options","baseUrl","headers","key","Promise","reject","status","fetch","then","_checkResponse","method","body","JSON","stringify","cardId","_putLike","_deleteLike","authorization","Content-Type","objectWithoutProperties","components_ProtectedRoute","_ref","Component","component","loggedIn","components_App","setIsEditAvatarPopupOpen","setIsEditProfilePopupOpen","_React$useState5","_React$useState6","setIsAddPlacePopupOpen","_React$useState7","_React$useState8","selectedCard","setCard","_React$useState9","_React$useState10","setCurrentUser","_React$useState11","_React$useState12","setCards","_React$useState13","_React$useState14","_React$useState15","_React$useState16","setLoggedIn","pathname","_React$useState17","_React$useState18","setInfoToolTipOpen","_React$useState19","_React$useState20","registerStatus","setRegisterStatus","handleRegister","tokenCheck","getInitialCards","catch","err","getProfileInfo","window","addEventListener","evt","localStorage","getItem","jwt","token","Accept","Authorization","_ref3","Provider","removeItem","exact","path","changeLikeCardStatus","newCard","state","c","deleteCard","filter","_ref2","Error","setItem","registration","statusCode","user","editProfileInfo","picture","addNewCard","addNewAvatar","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpmesto-react\"] = this[\"webpackJsonpmesto-react\"] || []).push([[0],{\n\n/***/ 30:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 37:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(20);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(30);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(24);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/images/logo.svg\n/* harmony default export */ var logo = (__webpack_require__.p + \"static/media/logo.03b78ada.svg\");\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/components/Header.js\nfunction Header(props){var history=Object(react_router[\"g\" /* useHistory */])();var onClick;var title;var email;switch(props.currentPath){//Вход\ncase'/signin':onClick=function onClick(){history.push('/signup');};title='Регистрация';break;//Регистрация\ncase'/signup':onClick=function onClick(){history.push('/signin');};title='Войти';break;default:onClick=function onClick(){history.push('/signin');props.onLogOut();};title='Выйти';email=props.email;}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"header\",{className:\"header root__header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:logo,alt:\"\\u043B\\u043E\\u0433\\u043E\\u0442\\u0438\\u043F \\u0441\\u0430\\u0439\\u0442\\u0430\",className:\"header__logo\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"header__group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"header__email\",children:email}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"header__button\",onClick:onClick,children:title})]})]});}/* harmony default export */ var components_Header = (Header);\n// CONCATENATED MODULE: ./src/contexts/CurrentUserContext.js\nvar CurrentUserContext=/*#__PURE__*/react_default.a.createContext();\n// CONCATENATED MODULE: ./src/components/Card.js\nfunction Card(props){function handleClick(){props.handleCardClick(props.card);}function handleLikeClick(){props.handleCardLike(props.card);}function handleCardDelete(){props.handleCardDelete(props.card);}var currentUser=react_default.a.useContext(CurrentUserContext);// Определяем, являемся ли мы владельцем текущей карточки\nvar isOwn=props.card.owner._id===currentUser._id;// Создаём переменную, которую после зададим в `className` для кнопки удаления\nvar cardDeleteButtonClassName=\"elements__button-delite \".concat(isOwn?'elements__button-delite':'elements__button-delite_hidden');// Определяем, есть ли у карточки лайк, поставленный текущим пользователем\nvar isLiked=props.card.likes.some(function(i){return i._id===currentUser._id;});// Создаём переменную, которую после зададим в `className` для кнопки лайка\nvar cardLikeButtonClassName=\"elements__button-like \".concat(isLiked?'elements__button-like_black':'elements__button-like');return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"elements__item\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:props.card.link,className:\"elements__image\",alt:\"\\u043C\\u0435\\u0441\\u0442\\u043E \\u0432 \\u0420\\u043E\\u0441\\u0441\\u0438\\u0438\",onClick:handleClick}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:cardDeleteButtonClassName,onClick:handleCardDelete}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"elements__name\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"elements__title\",children:props.card.name}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"elements__group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:cardLikeButtonClassName,onClick:handleLikeClick}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"elements__counter\",children:props.card.likes.length})]})]})]});}/* harmony default export */ var components_Card = (Card);\n// CONCATENATED MODULE: ./src/components/Main.js\nfunction Main(props){var currentUser=react_default.a.useContext(CurrentUserContext);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"main\",{className:\"content\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"section\",{className:\"profile\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile__avatar-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:currentUser.avatar,alt:\"\\u0430\\u0432\\u0430\\u0442\\u0430\\u0440 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\",className:\"profile__avatar\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"profile__avatar-edit\",onClick:props.onEditAvatar})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"profile__name\",children:currentUser.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"profile__edit-button\",onClick:props.onEditProfile}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"profile__profession\",children:currentUser.about})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"profile__add-button\",onClick:props.onAddPlace})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"section\",{className:\"elements root__elements\",children:props.cards.map(function(card,i){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Card,{handleCardClick:props.onCardClick,handleCardLike:props.onCardLike,handleCardDelete:props.onCardDelete,card:card},card._id);})})]});}/* harmony default export */ var components_Main = (Main);\n// CONCATENATED MODULE: ./src/components/Footer.js\nfunction Footer(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"footer\",{className:\"footer\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"footer__text\",children:[\"\\xA9 \",new Date().getFullYear(),\" \\u0410\\u043D\\u0442\\u043E\\u043D\\u0438\\u043D\\u0430 \\u041F\\u043E\\u043B\\u044F\\u043A\\u043E\\u0432\\u0430\"]})});}/* harmony default export */ var components_Footer = (Footer);\n// CONCATENATED MODULE: ./src/components/ImagePopup.js\nfunction ImagePopup(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"popup popup_dark popup-preview \".concat(props.card?'popup_opened':''),children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"popup__container-preview\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"popup__close-button\",onClick:props.onClose}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:props.card?props.card.link:'',alt:\"\\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435 \\u0434\\u043E\\u0441\\u0442\\u043E\\u043F\\u0440\\u0438\\u043C\\u0435\\u0447\\u0430\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u0438 \\u0432 \\u0420\\u043E\\u0441\\u0441\\u0438\\u0438\",className:\"popup__image\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"popup__preview-title\",children:props.card?props.card.name:''})]})});}/* harmony default export */ var components_ImagePopup = (ImagePopup);\n// CONCATENATED MODULE: ./src/components/PopupWithForm.js\nfunction PopupWithForm(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"popup popup-\".concat(props.name,\" \").concat(props.isEditProfilePopupOpen||props.isAddPlacePopupOpen||props.isEditAvatarPopupOpen||props.isInfoTooltipOpen?'popup_opened':''),children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"popup__container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"popup__close-button\",onClick:props.closeAllPopups}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{name:\"\".concat(props.name),className:\"popup__form\",noValidate:true,onSubmit:props.onSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"popup__title\",children:props.title}),props.children]})]})});}/* harmony default export */ var components_PopupWithForm = (PopupWithForm);\n// CONCATENATED MODULE: ./src/components/EditProfilePopup.js\nfunction EditProfilePopup(props){var _React$useState=react_default.a.useState(''),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=react_default.a.useState(''),_React$useState4=Object(slicedToArray[\"a\" /* default */])(_React$useState3,2),description=_React$useState4[0],setDescription=_React$useState4[1];function handleChangeName(e){setName(e.target.value);}function handleChangeDescription(e){setDescription(e.target.value);}// Подписка на контекст\nvar currentUser=react_default.a.useContext(CurrentUserContext);// После загрузки текущего пользователя из API\n// его данные будут использованы в управляемых компонентах.\nreact_default.a.useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[currentUser]);function handleSubmit(e){// Запрещаем браузеру переходить по адресу формы\ne.preventDefault();// Передаём значения управляемых компонентов во внешний обработчик\nprops.onUpdateUser({name:name,about:description});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(components_PopupWithForm,{name:\"user\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",isEditProfilePopupOpen:props.isOpen,closeAllPopups:props.onClose,onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{id:\"user-input\",type:\"text\",name:\"name\",value:name,onChange:handleChangeName,className:\"popup__input popup__input-name\",placeholder:\"\\u0418\\u043C\\u044F\",required:true,minLength:\"2\",maxLength:\"40\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"popup__input-error user-input-error\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{id:\"job-input\",type:\"text\",name:\"profession\",value:description,onChange:handleChangeDescription,className:\"popup__input popup__input-job\",placeholder:\"\\u041E \\u0441\\u0435\\u0431\\u0435\",required:true,minLength:\"2\",maxLength:\"200\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"popup__input-error job-input-error\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",className:\"popup__button\",onClick:props.onClose,children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"})]});}/* harmony default export */ var components_EditProfilePopup = (EditProfilePopup);\n// CONCATENATED MODULE: ./src/components/EditAvatarPopup.js\nfunction EditAvatarPopup(props){var avatarRef=react_default.a.useRef('');function handleSubmit(e){e.preventDefault();props.onUpdateAvatar({avatar:avatarRef.current.value});avatarRef.current.value='';}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(components_PopupWithForm,{name:\"avatar\",title:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440?\",isEditAvatarPopupOpen:props.isOpen,closeAllPopups:props.onClose,onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{id:\"input\",type:\"url\",name:\"image\",ref:avatarRef,className:\"popup__input popup__input_small popup__input-image\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",required:true,pattern:\"https?://.+\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"popup__input-error input-error\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",className:\"popup__button popup__button_small popup__button-place\",onClick:props.onClose,children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C\"})]});}/* harmony default export */ var components_EditAvatarPopup = (EditAvatarPopup);\n// CONCATENATED MODULE: ./src/components/AddPlacePopup.js\nfunction AddPlacePopup(props){var _React$useState=react_default.a.useState(''),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),title=_React$useState2[0],setTitle=_React$useState2[1];var _React$useState3=react_default.a.useState(''),_React$useState4=Object(slicedToArray[\"a\" /* default */])(_React$useState3,2),link=_React$useState4[0],setLink=_React$useState4[1];function handleChangeTitle(e){setTitle(e.target.value);}function handleChangeLink(e){setLink(e.target.value);}function handleSubmit(e){// Запрещаем браузеру переходить по адресу формы\ne.preventDefault();// Передаём значения управляемых компонентов во внешний обработчик\nprops.onAddPlace({name:title,link:link});setTitle('');setLink('');}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(components_PopupWithForm,{name:\"place\",title:\"\\u041D\\u043E\\u0432\\u043E\\u0435 \\u043C\\u0435\\u0441\\u0442\\u043E\",isAddPlacePopupOpen:props.isOpen,closeAllPopups:props.onClose,onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{id:\"place-input\",type:\"text\",name:\"place-title\",value:title,onChange:handleChangeTitle,className:\"popup__input popup__input_small popup__input-place-title\",placeholder:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",required:true,minLength:\"2\",maxLength:\"30\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"popup__input-error place-input-error\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{id:\"link-input\",type:\"url\",name:\"image\",value:link,onChange:handleChangeLink,className:\"popup__input popup__input_small popup__input-image\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",required:true,pattern:\"https?://.+\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"popup__input-error link-input-error\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",className:\"popup__button popup__button_small popup__button-place\",onClick:props.onClose,children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C\"})]});}/* harmony default export */ var components_AddPlacePopup = (AddPlacePopup);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(8);\n\n// CONCATENATED MODULE: ./src/components/Login.js\nfunction Login(props){//\n// const [data, setData] = React.useState({\n//   email: '',\n//   password: ''\n// });\nfunction handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;props.onEnter(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props.data),{},Object(defineProperty[\"a\" /* default */])({},name,value)));}function handleSubmit(e){var _props$data=props.data,email=_props$data.email,password=_props$data.password;e.preventDefault();console.log(props.data);props.onAutorization({email:email,password:password});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"popup__form popup__form_login\",onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"popup__title popup__title_login\",children:\"\\u0412\\u0445\\u043E\\u0434\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{id:\"email\",type:\"email\",name:\"email\",value:props.data.email,className:\"popup__input popup__input_login\",placeholder:\"Email\",required:true,minLength:\"2\",maxLength:\"40\",pattern:\"([A-z0-9_.-]{1,})@([A-z0-9_.-]{1,}).([A-z]{2,8})\",onChange:handleChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"popup__input-error\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{id:\"password\",type:\"text\",name:\"password\",value:props.data.password,className:\"popup__input popup__input_login\",placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",required:true,minLength:\"2\",maxLength:\"10\",onChange:handleChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"popup__input-error\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",className:\"popup__button popup__button_login\",children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"popup__subtitle\",children:\" \"})]});}/* harmony default export */ var components_Login = (Login);\n// CONCATENATED MODULE: ./src/components/Register.js\nfunction Register(props){var _React$useState=react_default.a.useState({email:'',password:''}),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),data=_React$useState2[0],setData=_React$useState2[1];function handleSubmit(e){var email=data.email,password=data.password;e.preventDefault();setData({email:'',password:''});props.onRegister({email:email,password:password});}function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setData(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},data),{},Object(defineProperty[\"a\" /* default */])({},name,value)));}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,className:\"popup__form popup__form_login\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"popup__title popup__title_login\",children:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{id:\"email\",type:\"email\",name:\"email\",value:data.email,className:\"popup__input popup__input_login\",placeholder:\"Email\",required:true,minLength:\"2\",maxLength:\"40\",onChange:handleChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"popup__input-error\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{id:\"password\",type:\"password\",name:\"password\",value:data.password,className:\"popup__input popup__input_login\",placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",required:true,minLength:\"2\",maxLength:\"10\",onChange:handleChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"popup__input-error\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",className:\"popup__button popup__button_login\",children:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"popup__subtitle\",children:[\"\\u0423\\u0436\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u044B? \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/sign-in\",className:\"link\",children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})]})]});}/* harmony default export */ var components_Register = (Register);\n// CONCATENATED MODULE: ./src/images/ok.svg\n/* harmony default export */ var ok = (__webpack_require__.p + \"static/media/ok.1b6082f8.svg\");\n// CONCATENATED MODULE: ./src/images/error.svg\n/* harmony default export */ var error = (__webpack_require__.p + \"static/media/error.df8eddf6.svg\");\n// CONCATENATED MODULE: ./src/components/InfoTooltip.js\nfunction InfoTooltip(props){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(components_PopupWithForm,{name:\"registration_ok\",closeAllPopups:props.onClose,isInfoTooltipOpen:props.isOpen,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:props.isRegisterSuccessful?ok:error,alt:\"\\u0437\\u043D\\u0430\\u0447\\u043E\\u043A \\u0441\\u0442\\u0430\\u0442\\u0443\\u0441\\u0430 \\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u0438\",className:\"popup__reg-ico\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"popup__title popup__title_reg\",children:props.isRegisterSuccessful?'Вы успешно зарегистрировались!':'Что-то пошло не так!\\n'+'Попробуйте ещё раз.'})]});}/* harmony default export */ var components_InfoTooltip = (InfoTooltip);\n// CONCATENATED MODULE: ./src/components/Auth.js\nvar BASE_URL='https://auth.nomoreparties.co';var registration=function registration(_ref){var email=_ref.email,password=_ref.password;return fetch(\"\".concat(BASE_URL,\"/signup\"),{method:'POST',headers:{'Accept':'application/json',\"Content-Type\":\"application/json\"},body:JSON.stringify({email:email,password:password})}).then(checkResponse);};var authorization=function authorization(_ref2){var email=_ref2.email,password=_ref2.password;return fetch(\"\".concat(BASE_URL,\"/signin\"),{method:'POST',headers:{'Accept':'application/json',\"Content-Type\":\"application/json\"},body:JSON.stringify({email:email,password:password})}).then(checkResponse);};var getContent=function getContent(token){return fetch(BASE_URL+'/users/me',{method:'GET',headers:{'Accept':'application/json',\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \".concat(token)}}).then(checkResponse);};var checkResponse=function checkResponse(res){if(res.ok){return res.json();}};\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(23);\n\n// CONCATENATED MODULE: ./src/utils/api.js\nvar api_Api=/*#__PURE__*/function(){function Api(options){Object(classCallCheck[\"a\" /* default */])(this,Api);this.baseUrl=options.baseUrl;this.headers=options.headers;}Object(createClass[\"a\" /* default */])(Api,[{key:\"_checkResponse\",value:function _checkResponse(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \".concat(res.status));}// запрос данных пользователя с сервера\n},{key:\"getProfileInfo\",value:function getProfileInfo(){return fetch(this.baseUrl+'users/me',{headers:this.headers}).then(this._checkResponse);}// редактирование данных пользователя\n},{key:\"editProfileInfo\",value:function editProfileInfo(name,about){return fetch(this.baseUrl+'users/me',{method:'PATCH',headers:this.headers,body:JSON.stringify({name:name,about:about})}).then(this._checkResponse);}// загрузка массива карточек с сервера\n},{key:\"getInitialCards\",value:function getInitialCards(){return fetch(this.baseUrl+'cards',{headers:this.headers}).then(this._checkResponse);}// добавление новой карточки\n},{key:\"addNewCard\",value:function addNewCard(name,link){return fetch(this.baseUrl+'cards',{method:'POST',headers:this.headers,body:JSON.stringify({name:name,link:link})}).then(this._checkResponse);}// редактирование аватара\n},{key:\"addNewAvatar\",value:function addNewAvatar(avatar){return fetch(this.baseUrl+'users/me/avatar',{method:'PATCH',headers:this.headers,body:JSON.stringify({avatar:avatar})}).then(this._checkResponse);}// удаление карточки\n},{key:\"deleteCard\",value:function deleteCard(cardId){return fetch(this.baseUrl+\"cards/\".concat(cardId),{method:'DELETE',headers:this.headers}).then(this._checkResponse);}},{key:\"changeLikeCardStatus\",value:function changeLikeCardStatus(cardId,isLiked){if(isLiked){return this._putLike(cardId);}else{return this._deleteLike(cardId);}}//поставить лайк\n},{key:\"_putLike\",value:function _putLike(cardId){return fetch(this.baseUrl+\"cards/likes/\".concat(cardId),{method:'PUT',headers:this.headers}).then(this._checkResponse);}//удалить лайк\n},{key:\"_deleteLike\",value:function _deleteLike(cardId){return fetch(this.baseUrl+\"cards/likes/\".concat(cardId),{method:'DELETE',headers:this.headers}).then(this._checkResponse);}}]);return Api;}();var newApi=new api_Api({baseUrl:'https://mesto.nomoreparties.co/v1/cohort-20/',headers:{authorization:'b9b88552-735f-4768-bf07-4ff3fcde19d4','Content-Type':'application/json'}});/* harmony default export */ var api = (newApi);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js + 1 modules\nvar objectWithoutProperties = __webpack_require__(25);\n\n// CONCATENATED MODULE: ./src/components/ProtectedRoute.js\nfunction ProtectedRoute(_ref){var Component=_ref.component,props=Object(objectWithoutProperties[\"a\" /* default */])(_ref,[\"component\"]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"b\" /* Route */],{children:[\"function () \",props.loggedIn?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Component,Object(objectSpread2[\"a\" /* default */])({},props)):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/login\"})]});}/* harmony default export */ var components_ProtectedRoute = (ProtectedRoute);\n// CONCATENATED MODULE: ./src/components/App.js\nfunction App(){var _React$useState=react_default.a.useState(false),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),isEditAvatarPopupOpen=_React$useState2[0],setIsEditAvatarPopupOpen=_React$useState2[1];var _React$useState3=react_default.a.useState(false),_React$useState4=Object(slicedToArray[\"a\" /* default */])(_React$useState3,2),isEditProfilePopupOpen=_React$useState4[0],setIsEditProfilePopupOpen=_React$useState4[1];var _React$useState5=react_default.a.useState(false),_React$useState6=Object(slicedToArray[\"a\" /* default */])(_React$useState5,2),isAddPlacePopupOpen=_React$useState6[0],setIsAddPlacePopupOpen=_React$useState6[1];var _React$useState7=react_default.a.useState(null),_React$useState8=Object(slicedToArray[\"a\" /* default */])(_React$useState7,2),selectedCard=_React$useState8[0],setCard=_React$useState8[1];var _React$useState9=react_default.a.useState({name:'',about:'',avatar:''}),_React$useState10=Object(slicedToArray[\"a\" /* default */])(_React$useState9,2),currentUser=_React$useState10[0],setCurrentUser=_React$useState10[1];var _React$useState11=react_default.a.useState([]),_React$useState12=Object(slicedToArray[\"a\" /* default */])(_React$useState11,2),cards=_React$useState12[0],setCards=_React$useState12[1];//константы для регистрации, авторизации\nvar _React$useState13=react_default.a.useState({email:'',password:''}),_React$useState14=Object(slicedToArray[\"a\" /* default */])(_React$useState13,2),data=_React$useState14[0],setData=_React$useState14[1];var _React$useState15=react_default.a.useState(false),_React$useState16=Object(slicedToArray[\"a\" /* default */])(_React$useState15,2),loggedIn=_React$useState16[0],setLoggedIn=_React$useState16[1];//переход по ссылкам в шапке профиля регистрация-войти\nvar _useLocation=Object(react_router[\"h\" /* useLocation */])(),pathname=_useLocation.pathname;var history=Object(react_router[\"g\" /* useHistory */])();var _React$useState17=react_default.a.useState(false),_React$useState18=Object(slicedToArray[\"a\" /* default */])(_React$useState17,2),isInfoTooltipOpen=_React$useState18[0],setInfoToolTipOpen=_React$useState18[1];var _React$useState19=react_default.a.useState(false),_React$useState20=Object(slicedToArray[\"a\" /* default */])(_React$useState19,2),registerStatus=_React$useState20[0],setRegisterStatus=_React$useState20[1];react_default.a.useEffect(function(){if(loggedIn){history.push('/');}},[history,loggedIn]);react_default.a.useEffect(function(){tokenCheck();},[]);function handleCardLike(card){// Снова проверяем, есть ли уже лайк на этой карточке\nvar isLiked=card.likes.some(function(i){return i._id===currentUser._id;});// Отправляем запрос в API и получаем обновлённые данные карточки\napi.changeLikeCardStatus(card._id,!isLiked).then(function(newCard){setCards(function(state){return state.map(function(c){return c._id===card._id?newCard:c;});});}).catch(function(err){console.log('error',err);});}function handleCardDelete(card){api.deleteCard(card._id).then(function(){setCards(function(state){return state.filter(function(c){return c._id!==card._id;});});}).catch(function(err){console.log('error',err);});}react_default.a.useEffect(function(){api.getInitialCards().then(function(data){setCards(data);}).catch(function(err){console.log('error',err);});},[]);react_default.a.useEffect(function(){api.getProfileInfo().then(function(data){setCurrentUser(data);}).catch(function(err){console.log('error',err);});},[]);function handleEditAvatarClick(){setIsEditAvatarPopupOpen(true);}function handleEditProfileClick(){setIsEditProfilePopupOpen(true);}function handleAddPlaceClick(){setIsAddPlacePopupOpen(true);}function handleCardClick(card){setCard(card);}function handleUpdateUser(user){api.editProfileInfo(user.name,user.about).then(function(data){setCurrentUser(data);}).catch(function(err){console.log('error',err);});}function handleUpdateAvatar(user){api.addNewAvatar(user.avatar).then(function(data){setCurrentUser(data);}).catch(function(err){console.log('error',err);});}function handleAddPlaceSubmit(picture){api.addNewCard(picture.name,picture.link).then(function(newCard){setCards([newCard].concat(Object(toConsumableArray[\"a\" /* default */])(cards)));}).catch(function(err){console.log('error',err);});}function closeAllPopups(){setIsAddPlacePopupOpen(false);setIsEditAvatarPopupOpen(false);setIsEditProfilePopupOpen(false);setCard(null);setInfoToolTipOpen(false);}react_default.a.useEffect(function(){// закрытие попапа кликом на esc\nfunction handleEscClose(evt){if(evt.key==='Escape'){closeAllPopups();}}window.addEventListener('keydown',handleEscClose);},[]);//методы для регистрации, авторизации\nfunction handleRegistration(_ref){var email=_ref.email,password=_ref.password;console.log({email:email,password:password});registration({email:email,password:password}).then(function(res){console.log(res);if(!res||res.statusCode===400){setRegisterStatus(false);handleRegister();setData({email:'',password:''});//почему не обнуляются поля?\nreturn;}setRegisterStatus(true);handleRegister();history.push('/signin');return res;}).catch(function(err){console.log('error',err);});}function handleRegister(){setInfoToolTipOpen(true);}function handleAuthorization(_ref2){var email=_ref2.email,password=_ref2.password;authorization({email:email,password:password}).then(function(data){console.log(data);if(!data){throw new Error('Неверный логин или пароль');}if(data.token){console.log(data.token);localStorage.setItem('jwt',data.token);setLoggedIn(true);history.push('/');return data;}}).catch(function(err){console.log('error',err);});}var tokenCheck=function tokenCheck(){if(localStorage.getItem('jwt')){var jwt=localStorage.getItem('jwt');getContent(jwt).then(function(_ref3){var email=_ref3.email,password=_ref3.password;if(email){setLoggedIn(true);// setData({email, password})\n}}).catch(function(err){console.log('error',err);});}};function handleLogOut(){localStorage.removeItem('jwt');history.push('/signin');}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CurrentUserContext.Provider,{value:currentUser,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"root\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Header,{currentPath:pathname,onLogOut:handleLogOut,email:data.email}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"d\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ProtectedRoute,{exact:true,path:\"/\",loggedIn:loggedIn,component:components_Main,onEditProfile:handleEditProfileClick,onEditAvatar:handleEditAvatarClick,onAddPlace:handleAddPlaceClick,onCardClick:handleCardClick,cards:cards,onCardLike:handleCardLike,onCardDelete:handleCardDelete}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/signin\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Login,{data:data,onEnter:setData,onAutorization:handleAuthorization})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/signup\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Register,{onRegister:handleRegistration})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{children:loggedIn?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/signin\"})})]}),loggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Footer,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_EditProfilePopup,{isOpen:isEditProfilePopupOpen,onClose:closeAllPopups,onUpdateUser:handleUpdateUser}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_AddPlacePopup,{isOpen:isAddPlacePopupOpen,onClose:closeAllPopups,onAddPlace:handleAddPlaceSubmit}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ImagePopup,{onClose:closeAllPopups,card:selectedCard}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_PopupWithForm,{name:\"popup-delete-card\",title:\"\\u0412\\u044B \\u0443\\u0432\\u0435\\u0440\\u0435\\u043D\\u044B?\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",className:\"popup__button popup__button_small popup__button-place\",children:\"\\u0414\\u0430\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_EditAvatarPopup,{isOpen:isEditAvatarPopupOpen,onClose:closeAllPopups,onUpdateAvatar:handleUpdateAvatar}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_InfoTooltip,{isOpen:isInfoTooltipOpen,isRegisterSuccessful:registerStatus,onClose:closeAllPopups})]})})});}/* harmony default export */ var components_App = (App);\n// CONCATENATED MODULE: ./src/index.js\n// import reportWebVitals from './reportWebVitals';\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_App,{})})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n\n/***/ })\n\n},[[37,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/oleg/Desktop/prakticum/react-mesto-auth/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/oleg/Desktop/prakticum/react-mesto-auth/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/oleg/Desktop/prakticum/react-mesto-auth/node_modules/postcss-loader/src/index.js??postcss!/Users/oleg/Desktop/prakticum/react-mesto-auth/src/index.css","/Users/oleg/Desktop/prakticum/react-mesto-auth/node_modules/react-scripts/node_modules/file-loader/dist/cjs.js??ref--5-oneOf-8!/Users/oleg/Desktop/prakticum/react-mesto-auth/src/images/logo.svg","/Users/oleg/Desktop/prakticum/react-mesto-auth/src/components/Header.js","/Users/oleg/Desktop/prakticum/react-mesto-auth/src/contexts/CurrentUserContext.js","/Users/oleg/Desktop/prakticum/react-mesto-auth/src/components/Card.js","/Users/oleg/Desktop/prakticum/react-mesto-auth/src/components/Main.js","/Users/oleg/Desktop/prakticum/react-mesto-auth/src/components/Footer.js","/Users/oleg/Desktop/prakticum/react-mesto-auth/src/components/ImagePopup.js","/Users/oleg/Desktop/prakticum/react-mesto-auth/src/components/PopupWithForm.js","/Users/oleg/Desktop/prakticum/react-mesto-auth/src/components/EditProfilePopup.js","/Users/oleg/Desktop/prakticum/react-mesto-auth/src/components/EditAvatarPopup.js","/Users/oleg/Desktop/prakticum/react-mesto-auth/src/components/AddPlacePopup.js","/Users/oleg/Desktop/prakticum/react-mesto-auth/src/components/Login.js","/Users/oleg/Desktop/prakticum/react-mesto-auth/src/components/Register.js","/Users/oleg/Desktop/prakticum/react-mesto-auth/node_modules/react-scripts/node_modules/file-loader/dist/cjs.js??ref--5-oneOf-8!/Users/oleg/Desktop/prakticum/react-mesto-auth/src/images/ok.svg","/Users/oleg/Desktop/prakticum/react-mesto-auth/node_modules/react-scripts/node_modules/file-loader/dist/cjs.js??ref--5-oneOf-8!/Users/oleg/Desktop/prakticum/react-mesto-auth/src/images/error.svg","/Users/oleg/Desktop/prakticum/react-mesto-auth/src/components/InfoTooltip.js","/Users/oleg/Desktop/prakticum/react-mesto-auth/src/components/Auth.js","/Users/oleg/Desktop/prakticum/react-mesto-auth/src/utils/api.js","/Users/oleg/Desktop/prakticum/react-mesto-auth/src/components/ProtectedRoute.js","/Users/oleg/Desktop/prakticum/react-mesto-auth/src/components/App.js","/Users/oleg/Desktop/prakticum/react-mesto-auth/src/index.js"],"names":["Header","props","history","useHistory","onClick","title","email","currentPath","push","onLogOut","logo","CurrentUserContext","React","createContext","Card","handleClick","handleCardClick","card","handleLikeClick","handleCardLike","handleCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","length","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","onCardClick","onCardLike","onCardDelete","Footer","Date","getFullYear","ImagePopup","onClose","PopupWithForm","isEditProfilePopupOpen","isAddPlacePopupOpen","isEditAvatarPopupOpen","isInfoTooltipOpen","closeAllPopups","onSubmit","children","EditProfilePopup","useState","setName","description","setDescription","handleChangeName","e","target","value","handleChangeDescription","useEffect","handleSubmit","preventDefault","onUpdateUser","isOpen","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","AddPlacePopup","setTitle","setLink","handleChangeTitle","handleChangeLink","Login","handleChange","onEnter","data","password","console","log","onAutorization","Register","setData","onRegister","InfoTooltip","isRegisterSuccessful","ok","err","BASE_URL","registration","fetch","method","headers","body","JSON","stringify","then","checkResponse","authorization","getContent","token","res","json","Api","options","baseUrl","Promise","reject","status","_checkResponse","cardId","_putLike","_deleteLike","newApi","ProtectedRoute","Component","component","loggedIn","App","setIsEditAvatarPopupOpen","setIsEditProfilePopupOpen","setIsAddPlacePopupOpen","selectedCard","setCard","setCurrentUser","setCards","setLoggedIn","useLocation","pathname","setInfoToolTipOpen","registerStatus","setRegisterStatus","tokenCheck","changeLikeCardStatus","newCard","state","c","catch","deleteCard","filter","getInitialCards","getProfileInfo","handleEditAvatarClick","handleEditProfileClick","handleAddPlaceClick","handleUpdateUser","user","editProfileInfo","handleUpdateAvatar","addNewAvatar","handleAddPlaceSubmit","picture","addNewCard","handleEscClose","evt","key","window","addEventListener","handleRegistration","Auth","statusCode","handleRegister","handleAuthorization","Error","localStorage","setItem","getItem","jwt","handleLogOut","removeItem","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import React from \"react\";\nimport logo from '../images/logo.svg';\nimport {useHistory} from \"react-router-dom\";\n\n\nfunction Header(props) {\n  const history = useHistory();\n\n  let onClick;\n  let title;\n  let email\n\n  switch (props.currentPath) {\n    //Вход\n    case '/signin':\n      onClick = function () {\n        history.push('/signup')\n      }\n      title = 'Регистрация'\n      break;\n      //Регистрация\n    case '/signup':\n      onClick = function () {\n        history.push('/signin')\n      }\n      title = 'Войти'\n      break;\n    default:\n      onClick = function () {\n        history.push('/signin')\n        props.onLogOut()\n      }\n      title = 'Выйти'\n      email = props.email\n  }\n\n  return (\n    <header className=\"header root__header\">\n      <img src={logo} alt=\"логотип сайта\" className=\"header__logo\"/>\n      <div className=\"header__group\">\n        <p className=\"header__email\">{email}</p>\n        <button className=\"header__button\" onClick={onClick}>{title}</button>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n\n","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n","import React from \"react\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n\n  function handleClick() {\n    props.handleCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.handleCardLike(props.card);\n  }\n\n  function handleCardDelete() {\n    props.handleCardDelete(props.card);\n  }\n\n  const currentUser = React.useContext(CurrentUserContext);\n  // Определяем, являемся ли мы владельцем текущей карточки\n  const isOwn = props.card.owner._id === currentUser._id;\n\n// Создаём переменную, которую после зададим в `className` для кнопки удаления\n  const cardDeleteButtonClassName = (\n    `elements__button-delite ${isOwn ? 'elements__button-delite' : 'elements__button-delite_hidden'}`\n  );\n\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n\n// Создаём переменную, которую после зададим в `className` для кнопки лайка\n  const cardLikeButtonClassName = (\n    `elements__button-like ${isLiked ? 'elements__button-like_black' : 'elements__button-like'}`\n  );\n\n  return (\n    (\n      <div className=\"elements__item\">\n        <img src={props.card.link} className=\"elements__image\" alt=\"место в России\" onClick={handleClick}/>\n        <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleCardDelete}>\n        </button>\n        <div className=\"elements__name\">\n          <h2 className=\"elements__title\">{props.card.name}</h2>\n          <div className=\"elements__group\">\n            <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}>\n            </button>\n            <p className=\"elements__counter\">{props.card.likes.length}</p>\n          </div>\n        </div>\n      </div>\n    )\n  )\n}\n\nexport default Card\n","import React from \"react\";\nimport Card from \"./Card\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nfunction Main(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar-container\">\n          <img src={currentUser.avatar} alt=\"аватар пользователя\" className=\"profile__avatar\"/>\n          <button className=\"profile__avatar-edit\"\n                  onClick={props.onEditAvatar}>\n          </button>\n        </div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <button type=\"button\" className=\"profile__edit-button\"\n                  onClick={props.onEditProfile}>\n          </button>\n          <p className=\"profile__profession\">{currentUser.about}</p>\n        </div>\n        <button type=\"button\" className=\"profile__add-button\"\n                onClick={props.onAddPlace}>\n        </button>\n      </section>\n      <section className=\"elements root__elements\">\n        {\n          props.cards.map((card, i) => (\n            <Card key={card._id} handleCardClick={props.onCardClick}\n                  handleCardLike={props.onCardLike} handleCardDelete={props.onCardDelete}\n                  card={card}\n            />\n          ))\n        }\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from \"react\";\n\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__text\">&#169; {new Date().getFullYear()} Антонина Полякова</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\n\nfunction ImagePopup(props) {\n  return (\n    <div className={`popup popup_dark popup-preview ${props.card ? 'popup_opened' : ''}`}>\n      <div className=\"popup__container-preview\">\n        <button type=\"button\" className=\"popup__close-button\"\n                onClick={props.onClose}>\n        </button>\n        <img src={props.card ? props.card.link : ''} alt=\"изображение достопримечательности в России\"\n             className=\"popup__image\"/>\n        <p className=\"popup__preview-title\">{props.card ? props.card.name : ''}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","import React from \"react\";\n\nfunction PopupWithForm(props) {\n\n  return (\n    <div className={`popup popup-${props.name} ${props.isEditProfilePopupOpen ||\n    props.isAddPlacePopupOpen || props.isEditAvatarPopupOpen || props.isInfoTooltipOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__container\">\n        <button type=\"button\" className=\"popup__close-button\"\n                onClick={props.closeAllPopups}>\n        </button>\n        <form name={`${props.name}`} className=\"popup__form\" noValidate onSubmit={props.onSubmit}>\n          <h2 className=\"popup__title\">{props.title}</h2>\n          {props.children}\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup(props) {\n\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeDescription(e) {\n    setDescription(e.target.value);\n  }\n\n// Подписка на контекст\n  const currentUser = React.useContext(CurrentUserContext);\n\n// После загрузки текущего пользователя из API\n// его данные будут использованы в управляемых компонентах.\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n\n    // Передаём значения управляемых компонентов во внешний обработчик\n    props.onUpdateUser({\n      name: name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm name=\"user\" title=\"Редактировать профиль\" isEditProfilePopupOpen={props.isOpen}\n                   closeAllPopups={props.onClose} onSubmit={handleSubmit}>\n      <label>\n        <input id=\"user-input\" type=\"text\" name=\"name\" value={name} onChange={handleChangeName}\n               className=\"popup__input popup__input-name\"\n               placeholder=\"Имя\" required minLength=\"2\" maxLength=\"40\"/>\n        <span className=\"popup__input-error user-input-error\">\n            </span>\n      </label>\n      <label>\n        <input id=\"job-input\" type=\"text\" name=\"profession\" value={description} onChange={handleChangeDescription}\n               className=\"popup__input popup__input-job\"\n               placeholder=\"О себе\" required minLength=\"2\" maxLength=\"200\"/>\n        <span className=\"popup__input-error job-input-error\">\n            </span>\n      </label>\n      <button type=\"submit\" className=\"popup__button\" onClick={props.onClose}>Сохранить</button>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup(props) {\n  const avatarRef = React.useRef('');\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value\n    });\n    avatarRef.current.value = '';\n  }\n\n  return (\n    <PopupWithForm name=\"avatar\" title=\"Обновить аватар?\" isEditAvatarPopupOpen={props.isOpen}\n                   closeAllPopups={props.onClose} onSubmit={handleSubmit}>\n      <label>\n        <input id=\"input\" type=\"url\" name=\"image\" ref={avatarRef}\n               className=\"popup__input popup__input_small popup__input-image\"\n               placeholder=\"Ссылка на картинку\" required pattern=\"https?://.+\"/>\n        <span className=\"popup__input-error input-error\">\n              </span>\n      </label>\n      <button type=\"submit\" className=\"popup__button popup__button_small popup__button-place\"\n              onClick={props.onClose}>Создать\n      </button>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n\n  const [title, setTitle] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  function handleChangeTitle(e) {\n    setTitle(e.target.value);\n  }\n\n  function handleChangeLink(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n\n    // Передаём значения управляемых компонентов во внешний обработчик\n    props.onAddPlace({\n      name: title,\n      link: link,\n    });\n\n    setTitle('');\n    setLink('');\n  }\n\n  return (\n    <PopupWithForm name=\"place\" title=\"Новое место\" isAddPlacePopupOpen={props.isOpen}\n                   closeAllPopups={props.onClose} onSubmit={handleSubmit}>\n      <label>\n        <input id=\"place-input\" type=\"text\" name=\"place-title\" value={title} onChange={handleChangeTitle}\n               className=\"popup__input popup__input_small popup__input-place-title\"\n               placeholder=\"Название\" required minLength=\"2\" maxLength=\"30\"/>\n        <span className=\"popup__input-error place-input-error\">\n        </span>\n      </label>\n      <label>\n        <input id=\"link-input\" type=\"url\" name=\"image\" value={link} onChange={handleChangeLink}\n               className=\"popup__input popup__input_small popup__input-image\"\n               placeholder=\"Ссылка на картинку\" required pattern=\"https?://.+\"/>\n        <span className=\"popup__input-error link-input-error\">\n        </span>\n      </label>\n      <button type=\"submit\" className=\"popup__button popup__button_small popup__button-place\"\n              onClick={props.onClose}>Создать\n      </button>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup\n","import React from \"react\";\n\nfunction Login(props) {\n  //\n  // const [data, setData] = React.useState({\n  //   email: '',\n  //   password: ''\n  // });\n\n  function handleChange(e) {\n    const {name, value} = e.target;\n    props.onEnter({\n      ...props.data,\n      [name]: value\n    })\n  }\n\n  function handleSubmit(e) {\n    let {email, password} = props.data;\n    e.preventDefault();\n    console.log(props.data);\n    props.onAutorization({email, password})\n  }\n\n  return(\n    <form className=\"popup__form popup__form_login\" onSubmit={handleSubmit}>\n      <h3 className=\"popup__title popup__title_login\">Вход</h3>\n      <label>\n        <input id=\"email\" type=\"email\" name=\"email\" value={props.data.email}\n               className=\"popup__input popup__input_login\"\n               placeholder=\"Email\" required minLength=\"2\" maxLength=\"40\"\n               pattern=\"([A-z0-9_.-]{1,})@([A-z0-9_.-]{1,}).([A-z]{2,8})\" onChange={handleChange}/>\n        <span className=\"popup__input-error\">\n            </span>\n      </label>\n      <label>\n        <input id=\"password\" type=\"text\" name=\"password\" value={props.data.password}\n               className=\"popup__input popup__input_login\"\n               placeholder=\"Пароль\" required minLength=\"2\" maxLength=\"10\" onChange={handleChange}/>\n        <span className=\"popup__input-error\">\n            </span>\n      </label>\n      <button type=\"submit\" className=\"popup__button popup__button_login\">Войти</button>\n      <p className=\"popup__subtitle\"> </p>\n    </form>\n  )\n}\n\nexport default Login\n","import React from \"react\";\nimport {Link} from \"react-router-dom\";\n\n\nfunction Register(props) {\n\nconst [data, setData] = React.useState({\n  email: '',\n  password: ''\n});\n\n  function handleSubmit(e) {\n    let {email, password} = data;\n    e.preventDefault();\n    setData({email: '', password: ''})\n    props.onRegister({email, password})\n  }\n\n  function handleChange(e) {\n    const {name, value} = e.target;\n    setData({\n      ...data,\n      [name]: value\n    })\n  }\n\n  return(\n  <form onSubmit={handleSubmit} className=\"popup__form popup__form_login\">\n    <h3 className=\"popup__title popup__title_login\">Регистрация</h3>\n    <label>\n      <input id=\"email\" type=\"email\" name=\"email\" value={data.email}\n             className=\"popup__input popup__input_login\"\n             placeholder=\"Email\" required minLength=\"2\" maxLength=\"40\"\n             onChange={handleChange}/>\n      <span className=\"popup__input-error\">\n            </span>\n    </label>\n    <label>\n      <input id=\"password\" type=\"password\" name=\"password\" value={data.password}\n             className=\"popup__input popup__input_login\"\n             placeholder=\"Пароль\" required minLength=\"2\" maxLength=\"10\" onChange={handleChange}/>\n      <span className=\"popup__input-error\">\n            </span>\n    </label>\n    <button type=\"submit\" className=\"popup__button popup__button_login\">Зарегистрироваться</button>\n    <p className=\"popup__subtitle\">Уже зарегистрированы? <Link to='/sign-in' className=\"link\">Войти</Link></p>\n  </form>\n)\n}\n\nexport default Register\n","export default __webpack_public_path__ + \"static/media/ok.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/error.df8eddf6.svg\";","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport ok from \"../images/ok.svg\";\nimport err from \"../images/error.svg\";\n\n\nfunction InfoTooltip(props) {\n\n  return(\n    <PopupWithForm name=\"registration_ok\" closeAllPopups={props.onClose} isInfoTooltipOpen={props.isOpen}>\n      <img src={props.isRegisterSuccessful ? ok : err} alt=\"значок статуса регистрации\" className=\"popup__reg-ico\"/>\n      <h3 className=\"popup__title popup__title_reg\">\n        {props.isRegisterSuccessful ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так!\\n' +\n          'Попробуйте ещё раз.'}</h3>\n    </PopupWithForm>\n  )\n}\n\nexport default InfoTooltip\n\n","export const BASE_URL = 'https://auth.nomoreparties.co';\n\nexport const registration = ({email, password}) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {'Accept': 'application/json',\n              \"Content-Type\": \"application/json\"} ,\n    body: JSON.stringify({email, password})\n  })\n    .then(checkResponse)\n}\n\nexport const authorization = ({email, password}) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {'Accept': 'application/json',\n              \"Content-Type\": \"application/json\"},\n    body: JSON.stringify({email, password})\n  })\n    .then(checkResponse)\n}\n\nexport const getContent = (token) => {\n  return fetch(BASE_URL + '/users/me', {\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": `Bearer ${token}`\n    }\n  })\n    .then(checkResponse)\n}\n\nexport const checkResponse = (res) => {\n  if (res.ok) {\n    return res.json();\n  }\n}\n","class Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n    this.headers = options.headers;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка ${res.status}`);\n  }\n\n  // запрос данных пользователя с сервера\n  getProfileInfo() {\n    return fetch(this.baseUrl + 'users/me', {\n      headers: this.headers\n    })\n      .then(this._checkResponse)\n  }\n\n  // редактирование данных пользователя\n  editProfileInfo(name, about) {\n    return fetch(this.baseUrl + 'users/me', {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        name: name,\n        about: about\n      })\n    })\n      .then(this._checkResponse)\n  }\n\n  // загрузка массива карточек с сервера\n  getInitialCards() {\n    return fetch(this.baseUrl + 'cards', {\n      headers: this.headers\n    })\n      .then(this._checkResponse)\n  }\n\n// добавление новой карточки\n  addNewCard(name, link) {\n    return fetch(this.baseUrl + 'cards', {\n      method: 'POST',\n      headers: this.headers,\n      body: JSON.stringify({\n        name: name,\n        link: link\n      })\n    })\n      .then(this._checkResponse)\n  }\n\n// редактирование аватара\n  addNewAvatar(avatar) {\n    return fetch(this.baseUrl + 'users/me/avatar', {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: avatar,\n      })\n    })\n      .then(this._checkResponse)\n  }\n\n  // удаление карточки\n  deleteCard(cardId) {\n    return fetch(this.baseUrl + `cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this.headers,\n    })\n      .then(this._checkResponse)\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    if (isLiked) {\n      return this._putLike(cardId)\n    } else {\n      return this._deleteLike(cardId)\n    }\n  }\n\n  //поставить лайк\n  _putLike(cardId) {\n    return fetch(this.baseUrl + `cards/likes/${cardId}`, {\n      method: 'PUT',\n      headers: this.headers,\n    })\n      .then(this._checkResponse)\n  }\n\n  //удалить лайк\n  _deleteLike(cardId) {\n    return fetch(this.baseUrl + `cards/likes/${cardId}`, {\n      method: 'DELETE',\n      headers: this.headers,\n    })\n      .then(this._checkResponse)\n  }\n}\n\n\nconst newApi = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-20/',\n  headers: {\n    authorization: 'b9b88552-735f-4768-bf07-4ff3fcde19d4',\n    'Content-Type': 'application/json'\n  }\n})\n\nexport default newApi\n","import React from 'react';\nimport {Route, Redirect} from 'react-router-dom';\n\n\n\nfunction ProtectedRoute({component: Component, ...props}) {\n  return <Route>\n    function () {\n    props.loggedIn ? <Component {...props}/> : <Redirect to='/login'/>\n  }\n  </Route>}\n\nexport default ProtectedRoute;\n","import React from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport * as Auth from \"./Auth\";\nimport newApi from \"../utils/api\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\nimport {Route, Switch, Redirect, useLocation, useHistory} from \"react-router-dom\";\nimport ProtectedRoute from \"./ProtectedRoute\";\n\nfunction App() {\n\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [selectedCard, setCard] = React.useState(null);\n  const [currentUser, setCurrentUser] = React.useState({name: '', about: '', avatar: ''});\n  const [cards, setCards] = React.useState([]);\n\n  //константы для регистрации, авторизации\n  const [data, setData] = React.useState({\n    email: '',\n    password: ''\n  });\n\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  //переход по ссылкам в шапке профиля регистрация-войти\n  const {pathname} = useLocation();\n  const history = useHistory();\n  const [isInfoTooltipOpen, setInfoToolTipOpen] = React.useState(false);\n  const [registerStatus, setRegisterStatus] = React.useState(false);\n\n  React.useEffect(() => {\n    if (loggedIn) {\n      history.push('/');\n    }\n  }, [history, loggedIn])\n\n  React.useEffect(() => {\n    tokenCheck()\n  }, [])\n\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    newApi.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n      })\n      .catch((err) => {\n        console.log('error', err)\n      })\n  }\n\n  function handleCardDelete(card) {\n    newApi.deleteCard(card._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n      })\n      .catch((err) => {\n        console.log('error', err)\n      })\n  }\n\n  React.useEffect(() => {\n    newApi.getInitialCards()\n      .then((data) => {\n        setCards(data)\n      })\n      .catch((err) => {\n        console.log('error', err)\n      })\n  }, [])\n\n  React.useEffect(() => {\n    newApi.getProfileInfo()\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => {\n        console.log('error', err)\n      })\n  }, []);\n\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setCard(card);\n  }\n\n  function handleUpdateUser(user) {\n    newApi.editProfileInfo(user.name, user.about)\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => {\n        console.log('error', err)\n      })\n  }\n\n  function handleUpdateAvatar(user) {\n    newApi.addNewAvatar(user.avatar)\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => {\n        console.log('error', err)\n      })\n  }\n\n  function handleAddPlaceSubmit(picture) {\n    newApi.addNewCard(picture.name, picture.link)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n      })\n      .catch((err) => {\n        console.log('error', err)\n      })\n  }\n\n  function closeAllPopups() {\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setCard(null)\n    setInfoToolTipOpen(false);\n  }\n\n  React.useEffect(() => {\n    // закрытие попапа кликом на esc\n    function handleEscClose(evt) {\n      if (evt.key === 'Escape') {\n        closeAllPopups();\n      }\n    }\n\n    window.addEventListener('keydown', handleEscClose);\n  }, [])\n\n  //методы для регистрации, авторизации\n  function handleRegistration({email, password}) {\n    console.log({email, password})\n    Auth.registration({email, password})\n      .then((res) => {\n        console.log(res)\n        if (!res || res.statusCode === 400) {\n          setRegisterStatus(false)\n          handleRegister()\n          setData({email: '', password: ''}) //почему не обнуляются поля?\n          return\n        }\n\n        setRegisterStatus(true)\n        handleRegister();\n        history.push('/signin')\n        return res\n      })\n      .catch((err) => {\n        console.log('error', err)\n      })\n  }\n\n  function handleRegister() {\n    setInfoToolTipOpen(true);\n  }\n\n  function handleAuthorization({email, password}) {\n    Auth.authorization({email, password})\n      .then((data) => {\n        console.log(data)\n        if (!data) {throw new Error('Неверный логин или пароль')}\n\n        if (data.token) {\n          console.log(data.token)\n          localStorage.setItem('jwt', data.token);\n          setLoggedIn(true);\n          history.push('/');\n          return data;\n        }\n      })\n      .catch((err) => {\n        console.log('error', err)\n      })\n  }\n\n  const tokenCheck = () => {\n    if (localStorage.getItem('jwt')) {\n      let jwt = localStorage.getItem('jwt');\n      Auth.getContent(jwt)\n        .then(({email, password}) => {\n          if (email) {\n            setLoggedIn(true);\n            // setData({email, password})\n          }\n        })\n        .catch((err) => {\n          console.log('error', err)\n        })\n    }\n  }\n\n  function handleLogOut() {\n    localStorage.removeItem('jwt');\n    history.push('/signin');\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"root\">\n        <div className=\"page\">\n          <Header currentPath={pathname}\n                  onLogOut={handleLogOut}\n                  email={data.email}\n                  />\n          <Switch>\n            <ProtectedRoute\n              exact path=\"/\"\n              loggedIn={loggedIn}\n              component={Main}\n              onEditProfile={handleEditProfileClick}\n              onEditAvatar={handleEditAvatarClick}\n              onAddPlace={handleAddPlaceClick}\n              onCardClick={handleCardClick}\n              cards={cards}\n              onCardLike={handleCardLike}\n              onCardDelete={handleCardDelete}\n            />\n            <Route path=\"/signin\">\n              <Login\n                data={data}\n                onEnter={setData}\n                onAutorization={handleAuthorization}/>\n            </Route>\n            <Route path=\"/signup\">\n              <Register onRegister={handleRegistration}/>\n            </Route>\n            <Route>\n              {loggedIn ? (<Redirect to=\"/\"/>) : (<Redirect to=\"/signin\"/>)}\n            </Route>\n          </Switch>\n          {loggedIn && <Footer/>}\n          <EditProfilePopup isOpen={isEditProfilePopupOpen}\n                            onClose={closeAllPopups}\n                            onUpdateUser={handleUpdateUser}/>\n          <AddPlacePopup isOpen={isAddPlacePopupOpen}\n                         onClose={closeAllPopups}\n                         onAddPlace={handleAddPlaceSubmit}/>\n\n          <ImagePopup onClose={closeAllPopups} card={selectedCard}/>\n\n          <PopupWithForm name=\"popup-delete-card\" title=\"Вы уверены?\">\n            <button type=\"submit\" className=\"popup__button popup__button_small popup__button-place\">Да</button>\n          </PopupWithForm>\n\n          <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups}\n                           onUpdateAvatar={handleUpdateAvatar}/>\n          <InfoTooltip isOpen={isInfoTooltipOpen}\n                       isRegisterSuccessful={registerStatus}\n                       onClose={closeAllPopups}/>\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App/>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"]}}